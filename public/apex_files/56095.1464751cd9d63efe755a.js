"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[56095],{2624:(t,e)=>{function n(t,e,n){const i=e.subtract(t),r=n.subtract(t).dotProduct(i)/i.dotProduct(i);return{coeff:r,distance:t.addScaled(i,r).subtract(n).length()}}Object.defineProperty(e,"__esModule",{value:!0}),e.distanceToLine=n,e.distanceToSegment=function(t,e,i){const r=n(t,e,i);if(0<=r.coeff&&r.coeff<=1)return r;{const n=t.subtract(i).length(),r=e.subtract(i).length();return n<r?{coeff:0,distance:n}:{coeff:1,distance:r}}}},648892:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.intersectLineSegmentAndBox=function(t,e){let n=t[0].x,i=t[0].y,s=t[1].x,o=t[1].y;const a=e.min.x,l=e.min.y,u=e.max.x,c=e.max.y;let h;function d(t,e,n,i,r,s){let o=h.Inside;return t<n?o|=h.Left:t>r&&(o|=h.Right),e<i?o|=h.Bottom:e>s&&(o|=h.Top),o}!function(t){t[t.Inside=0]="Inside",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Bottom=4]="Bottom",t[t.Top=8]="Top"}(h||(h={}));let f=d(n,i,a,l,u,c),p=d(s,o,a,l,u,c),v=!1,g=0;for(;;){if(g>1e3)throw new Error("Cohen - Sutherland algorithm: infinity loop");if(g++,!(f|p)){v=!0;break}if(f&p)break;{const t=f||p;let e,r;t&h.Top?(e=n+(s-n)*(c-i)/(o-i),r=c):t&h.Bottom?(e=n+(s-n)*(l-i)/(o-i),r=l):t&h.Right?(r=i+(o-i)*(u-n)/(s-n),e=u):(r=i+(o-i)*(a-n)/(s-n),e=a),t===f?(n=e,i=r,f=d(n,i,a,l,u,c)):(s=e,o=r,p=d(s,o,a,l,u,c))}}return v?(0,r.equalPoints)((0,r.point)(n,i),(0,r.point)(s,o))?(0,r.point)(n,i):(0,r.lineSegment)((0,r.point)(n,i),(0,r.point)(s,o)):null},e.intersectLines=a,e.intersectLineSegments=l,e.intersectLineAndBox=function(t,e){const n=e.min.x,s=e.min.y,o=e.max.x,a=e.max.y;if(0===t.A){const e=-t.C/t.B;return s<=e&&e<=a?(0,r.lineSegment)((0,r.point)(n,e),(0,r.point)(o,e)):null}if(0===t.B){const e=-t.C/t.A;return n<=e&&e<=o?(0,r.lineSegment)((0,r.point)(e,s),(0,r.point)(e,a)):null}{const e=[],l=n=>{const i=function(t,e){return-(t.C+t.A*e)/t.B}(t,n);s<=i&&i<=a&&u(e,new r.Point(n,i))},c=i=>{const s=function(t,e){return-(t.C+t.B*e)/t.A}(t,i);n<=s&&s<=o&&u(e,new r.Point(s,i))};switch(l(n),c(s),l(o),c(a),e.length){case 0:return null;case 1:return e[0];case 2:return(0,r.equalPoints)(e[0],e[1])?e[0]:(0,r.lineSegment)(e[0],e[1])}return(0,i.assert)(!1,"We should have at most two intersection points"),null}},e.intersectRayAndBox=function(t,e,n){const i=l(t,e,n.min,new r.Point(n.max.x,n.min.y)),s=l(t,e,new r.Point(n.max.x,n.min.y),n.max),o=l(t,e,n.max,new r.Point(n.min.x,n.max.y)),a=l(t,e,new r.Point(n.min.x,n.max.y),n.min),u=[];null!==i&&i>=0&&u.push(i);null!==s&&s>=0&&u.push(s);null!==o&&o>=0&&u.push(o);null!==a&&a>=0&&u.push(a);if(0===u.length)return null;const c=Math.max(...u);return t.addScaled(e.subtract(t),c)},e.intersectPolygonAndHalfplane=h,e.intersectPolygons=function(t,e){let n=t;for(let t=0;t<e.length&&null!==n;++t){const i=e[t],s=e[(t+1)%e.length],o=e[(t+2)%e.length],a=(0,r.lineThroughPoints)(i,s);n=h(n,(0,r.halfplaneThroughPoint)(a,o))}return n};const i=n(650151),r=n(610555),s=n(2624),o=n(906453);function a(t,e){const n=t.A,i=e.A,s=t.B,o=e.B,a=t.C,l=e.C,u=n*o-i*s;if(Math.abs(u)<1e-6)return null
;const c=(s*l-o*a)/u,h=(i*a-n*l)/u;return new r.Point(c,h)}function l(t,e,n,i){const r=function(t,e,n,i){const r=e.subtract(t),s=i.subtract(n),o=r.x*s.y-r.y*s.x;if(Math.abs(o)<1e-6)return null;const a=t.subtract(n);return(a.y*s.x-a.x*s.y)/o}(t,e,n,i);if(null===r)return null;const o=e.subtract(t).scaled(r).add(t),a=(0,s.distanceToSegment)(n,i,o);return Math.abs(a.distance)<1e-6?r:null}function u(t,e){for(const n of t)if((0,r.equalPoints)(n,e))return!1;return t.push(e),!0}function c(t,e){return!(t.length>0&&((0,r.equalPoints)(t[t.length-1],e)||(0,r.equalPoints)(t[0],e)))&&(t.push(e),!0)}function h(t,e){const n=[];for(let i=0;i<t.length;++i){const s=t[i],l=t[(i+1)%t.length],u=(0,r.lineThroughPoints)(s,l);if((0,o.pointInHalfplane)(s,e)){if(c(n,s),!(0,o.pointInHalfplane)(l,e)){const t=a(u,e.edge);null!==t&&c(n,t)}}else if((0,o.pointInHalfplane)(l,e)){const t=a(u,e.edge);null!==t&&c(n,t)}}return n.length>=3?n:null}},610555:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Point=void 0,e.point=i,e.equalPoints=r,e.line=s,e.lineThroughPoints=function(t,e){if(r(t,e))throw new Error("Points should be distinct");const n=t.y-e.y,i=e.x-t.x,o=t.x*e.y-e.x*t.y;return s(n,i,o)},e.lineSegment=function(t,e){if(r(t,e))throw new Error("Points of a segment should be distinct");return[t,e]},e.halfplane=o,e.halfplaneThroughPoint=function(t,e){const n=t.A*e.x+t.B*e.y+t.C>0;return o(t,n)},e.box=function(t,e){return{min:i(Math.min(t.x,e.x),Math.min(t.y,e.y)),max:i(Math.max(t.x,e.x),Math.max(t.y,e.y))}},e.equalBoxes=function(t,e){return r(t.min,e.min)&&r(t.max,e.max)};class n{constructor(t,e){this.x=t,this.y=e}add(t){return new n(this.x+t.x,this.y+t.y)}addScaled(t,e){return new n(this.x+e*t.x,this.y+e*t.y)}subtract(t){return new n(this.x-t.x,this.y-t.y)}dotProduct(t){return this.x*t.x+this.y*t.y}crossProduct(t){return this.x*t.y-this.y*t.x}signedAngle(t){return Math.atan2(this.crossProduct(t),this.dotProduct(t))}angle(t){return Math.acos(this.dotProduct(t)/(this.length()*t.length()))}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}scaled(t){return new n(this.x*t,this.y*t)}normalized(){return this.scaled(1/this.length())}transposed(){return new n(-this.y,this.x)}clone(){return new n(this.x,this.y)}}function i(t,e){return new n(t,e)}function r(t,e){return t.x===e.x&&t.y===e.y}function s(t,e,n){if(0===t&&0===e)throw new Error("A and B can not be both equal to zero.");return{A:t,B:e,C:n}}function o(t,e){return{edge:t,isPositive:e}}e.Point=n},340159:(t,e,n)=>{n.d(e,{createObservable:()=>r});var i=function(){function t(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){var e=this,n={next:t};return this._observers.push(n),{unsubscribe:function(){
e._observers=e._observers.filter((function(t){return t!==n}))}}},t.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach((function(e){return e.next(t._window.devicePixelRatio)})),this._reinstallResolutionListener()},t}();function r(t){return new i(t)}},871934:(t,e,n)=>{n.d(e,{CanvasRenderingTarget2D:()=>l,bindCanvasElementBitmapSizeTo:()=>o,equalSizes:()=>i.equalSizes,size:()=>i.size,tryCreateCanvasRenderingTarget2D:()=>u});var i=n(341161),r=n(340159),s=function(){function t(t,e,n){var r;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=(0,i.size)({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=null!=e?e:function(t){return t},this._allowResizeObserver=null===(r=null==n?void 0:n.allowResizeObserver)||void 0===r||r,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var t,e;if(null===this._canvasElement)throw new Error("Object is disposed");null===(t=this._canvasElementResizeObserver)||void 0===t||t.disconnect(),this._canvasElementResizeObserver=null,null===(e=this._devicePixelRatioObservable)||void 0===e||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(null===this._canvasElement)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return(0,i.size)({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=(0,i.size)(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(t){
this._bitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter((function(e){return e!==t}))},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter((function(e){return e!==t}))},t.prototype.applySuggestedBitmapSize=function(){if(null!==this._suggestedBitmapSize){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(t){var e=this.bitmapSize;(0,i.equalSizes)(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},t.prototype._emitBitmapSizeChanged=function(t,e){var n=this;this._bitmapSizeChangedListeners.forEach((function(i){return i.call(n,t,e)}))},t.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,n=(0,i.size)(this._transformBitmapSize(t,this._canvasElementClientSize)),r=(0,i.equalSizes)(this.bitmapSize,n)?null:n;null===e&&null===r||null!==e&&null!==r&&(0,i.equalSizes)(e,r)||(this._suggestedBitmapSize=r,this._emitSuggestedBitmapSizeChanged(e,r))},t.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var n=this;this._suggestedBitmapSizeChangedListeners.forEach((function(i){return i.call(n,t,e)}))},t.prototype._chooseAndInitObserver=function(){var t=this;this._allowResizeObserver?new Promise((function(t){var e=new ResizeObserver((function(n){t(n.every((function(t){return"devicePixelContentBoxSize"in t}))),e.disconnect()}));e.observe(document.body,{box:"device-pixel-content-box"})})).catch((function(){return!1})).then((function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})):this._initDevicePixelRatioObservable()},t.prototype._initDevicePixelRatioObservable=function(){var t=this;if(null!==this._canvasElement){var e=a(this._canvasElement);if(null===e)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=(0,r.createObservable)(e),this._devicePixelRatioObservable.subscribe((function(){return t._invalidateBitmapSize()})),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var t,e;if(null!==this._canvasElement){var n=a(this._canvasElement);if(null!==n){var r=null!==(e=null===(t=this._devicePixelRatioObservable)||void 0===t?void 0:t.value)&&void 0!==e?e:n.devicePixelRatio,s=this._canvasElement.getClientRects(),o=void 0!==s[0]?function(t,e){return(0,i.size)({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}(s[0],r):(0,i.size)({width:this._canvasElementClientSize.width*r,
height:this._canvasElementClientSize.height*r});this._suggestNewBitmapSize(o)}}},t.prototype._initResizeObserver=function(){var t=this;null!==this._canvasElement&&(this._canvasElementResizeObserver=new ResizeObserver((function(e){var n=e.find((function(e){return e.target===t._canvasElement}));if(n&&n.devicePixelContentBoxSize&&n.devicePixelContentBoxSize[0]){var r=n.devicePixelContentBoxSize[0],s=(0,i.size)({width:r.inlineSize,height:r.blockSize});t._suggestNewBitmapSize(s)}})),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function o(t,e){if("device-pixel-content-box"===e.type)return new s(t,e.transform,e.options);throw new Error("Unsupported binding target")}function a(t){return t.ownerDocument.defaultView}var l=function(){function t(t,e,n){if(0===e.width||0===e.height)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,0===n.width||0===n.height)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=n,this._context=t}return t.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function u(t,e){var n=t.canvasElementClientSize;if(0===n.width||0===n.height)return null;var i=t.bitmapSize;if(0===i.width||0===i.height)return null;var r=t.canvasElement.getContext("2d",e);return null===r?null:new l(r,n,i)}},341161:(t,e,n)=>{function i(t){var e=t.width,n=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(n<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:n}}function r(t,e){return t.width===e.width&&t.height===e.height}n.d(e,{equalSizes:()=>r,size:()=>i})},492438:(t,e,n)=>{n.d(e,{default:()=>i});const i=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},463328:(t,e,n)=>{n.d(e,{default:()=>P});var i=n(87593),r=n(600857),s=n(554523);const o=function(t,e,n){(void 0!==n&&!(0,s.default)(t[e],n)||void 0===n&&!(e in t))&&(0,r.default)(t,e,n)}
;var a=n(876507),l=n(414054),u=n(411523),c=n(232126),h=n(865607),d=n(154404),f=n(456052),p=n(84488),v=n(232437),g=n(688987),m=n(182433),_=n(554098),b=n(109125);const y=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};var x=n(652949),z=n(602960);const w=function(t){return(0,x.default)(t,(0,z.default)(t))};const S=function(t,e,n,i,r,s,a){var x=y(t,n),z=y(e,n),S=a.get(z);if(S)o(t,n,S);else{var P=s?s(x,z,n+"",t,e,a):void 0,B=void 0===P;if(B){var C=(0,f.default)(z),E=!C&&(0,v.default)(z),R=!C&&!E&&(0,b.default)(z);P=z,C||E||R?(0,f.default)(x)?P=x:(0,p.default)(x)?P=(0,c.default)(x):E?(B=!1,P=(0,l.default)(z,!0)):R?(B=!1,P=(0,u.default)(z,!0)):P=[]:(0,_.default)(z)||(0,d.default)(z)?(P=x,(0,d.default)(x)?P=w(x):(0,m.default)(x)&&!(0,g.default)(x)||(P=(0,h.default)(z))):B=!1}B&&(a.set(z,P),r(P,z,i,s,a),a.delete(z)),o(t,n,P)}};const P=function t(e,n,r,s,l){e!==n&&(0,a.default)(n,(function(a,u){if(l||(l=new i.default),(0,m.default)(a))S(e,n,u,r,t,s,l);else{var c=s?s(y(e,u),a,u+"",e,n,l):void 0;void 0===c&&(c=a),o(e,u,c)}}),z.default)}},919851:(t,e,n)=>{n.d(e,{default:()=>o});var i=n(876402),r=n(175933),s=n(850762);const o=function(t,e){return(0,s.default)((0,r.default)(t,e,i.default),t+"")}},631543:(t,e,n)=>{n.d(e,{default:()=>s});var i=n(919851),r=n(61833);const s=function(t){return(0,i.default)((function(e,n){var i=-1,s=n.length,o=s>1?n[s-1]:void 0,a=s>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(s--,o):void 0,a&&(0,r.default)(n[0],n[1],a)&&(o=s<3?void 0:o,s=1),e=Object(e);++i<s;){var l=n[i];l&&t(e,l,i,o)}return e}))}},61833:(t,e,n)=>{n.d(e,{default:()=>a});var i=n(554523),r=n(649634),s=n(399313),o=n(182433);const a=function(t,e,n){if(!(0,o.default)(n))return!1;var a=typeof e;return!!("number"==a?(0,r.default)(n)&&(0,s.default)(e,n.length):"string"==a&&e in n)&&(0,i.default)(n[e],t)}},175933:(t,e,n)=>{n.d(e,{default:()=>s});var i=n(492438),r=Math.max;const s=function(t,e,n){return e=r(void 0===e?t.length-1:e,0),function(){for(var s=arguments,o=-1,a=r(s.length-e,0),l=Array(a);++o<a;)l[o]=s[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=s[o];return u[e]=n(l),(0,i.default)(t,this,u)}}},850762:(t,e,n)=>{n.d(e,{default:()=>a});var i=n(306964),r=n(355136),s=n(876402);const o=r.default?function(t,e){return(0,r.default)(t,"toString",{configurable:!0,enumerable:!1,value:(0,i.default)(e),writable:!0})}:s.default;const a=(0,n(117717).default)(o)},117717:(t,e,n)=>{n.d(e,{default:()=>r});var i=Date.now;const r=function(t){var e=0,n=0;return function(){var r=i(),s=16-(r-n);if(n=r,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},84488:(t,e,n)=>{n.d(e,{default:()=>s});var i=n(649634),r=n(513795);const s=function(t){return(0,r.default)(t)&&(0,i.default)(t)}},554098:(t,e,n)=>{n.d(e,{default:()=>h});var i=n(389572),r=n(110964),s=n(513795),o=Function.prototype,a=Object.prototype,l=o.toString,u=a.hasOwnProperty,c=l.call(Object);const h=function(t){if(!(0,s.default)(t)||"[object Object]"!=(0,i.default)(t))return!1;var e=(0,r.default)(t);if(null===e)return!0
;var n=u.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},998034:(t,e,n)=>{n.d(e,{default:()=>r});var i=n(463328);const r=(0,n(631543).default)((function(t,e,n){(0,i.default)(t,e,n)}))}}]);