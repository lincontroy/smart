"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[50777],{127707:(e,t,r)=>{r.d(t,{calculateMinMax:()=>k,collectAllPaths:()=>C,compareTwoCollectionsByIds:()=>g,findFirst:()=>w,indexOf:()=>b,intersect:()=>m,join:()=>y,lowerbound:()=>l,lowerboundExt:()=>a,mapEntriesGenerator:()=>M,minMax:()=>S,moveAfter:()=>p,moveBefore:()=>f,moveToHead:()=>h,nestedMapGenerator:()=>I,removeEmptyObjectsFromRecordInplace:()=>T,removeItemFromArray:()=>v,revertRecord:()=>F,subtract:()=>d,sum:()=>P,upperbound:()=>c});var o=r(715943),s=r(182433),n=r(650151);function i(e,t){return e<t}function a(e,t,r,o,s){let n=s-o;for(;0<n;){const s=n>>1,i=o+s;r(e(i),t)?(o=i+1,n-=s+1):n=s}return o}function l(e,t,r,o=0,s=e.length){return a((t=>e[t]),t,r,o,s)}function u(e,t,r=0,o=e.length){return l(e,t,i,r,o)}function c(e,t,r,o=0,s=e.length){let n=s-o;for(;0<n;){const s=n>>1,i=o+s;r(t,e[i])?n=s:(o=i+1,n-=s+1)}return o}function d(e,t){return e.filter((e=>!t.includes(e)))}function h(e,t){const r=e.indexOf(t);return r<0?e.slice():[t].concat(e.slice(0,r)).concat(e.slice(r+1))}function p(e,t,r){const o=new Set(t),s=[],n=[],i=[];return e.forEach(((e,t)=>{o.has(e)?n.push(e):(s.push(e),i.push(t))})),r=r<e.length-1?u(i,r+1):s.length,s.splice(r,0,...n),{newItems:s,movedItemsStartIndex:r}}function f(e,t,r){const o=new Set(t),s=[],n=[],i=[];return e.forEach(((e,t)=>{o.has(e)?n.push(e):(s.push(e),i.push(t))})),r=r<=e.length-1?u(i,r):s.length,s.splice(r,0,...n),{newItems:s,movedItemsStartIndex:r}}function m(e,t){const r=new Set;return e.forEach((e=>{t.has(e)&&r.add(e)})),r}function y(e,t){const r=new Set(e);return t.forEach((e=>r.add(e))),r}function v(e,t){const r=e.indexOf(t);(0,n.assert)(-1!==r,"Item is not found"),e.splice(r,1)}function w(e,t){for(const r of e)if(t(r))return r;return null}function b(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function g(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r].id()!==t[r].id())return!1;return!0}function P(e){return e.reduce(((e,t)=>e+t),0)}function*M(e){for(const[t,r]of e)yield[t,r]}function*I(e,t){for(const[r,o]of e)if(void 0===t)for(const[,e]of o)yield[r,e];else{const e=o.get(t);void 0!==e&&(yield[r,e])}}function S(e){return[Math.min(...e),Math.max(...e)]}function k(e,t){return S(e.map(t))}function V(e){for(let t=e.length-1;t>=0;t--)Array.isArray(e[t])?(V(e[t]),(0,o.default)(e[t])&&e.splice(t,1)):(0,s.default)(e[t])&&(T(e[t]),(0,o.default)(e[t])&&e.splice(t,1))}function T(e){const t=Object.keys(e);for(const r of t)Array.isArray(e[r])?(V(e[r]),(0,o.default)(e[r])&&delete e[r]):(0,s.default)(e[r])&&(T(e[r]),(0,o.default)(e[r])&&delete e[r]);return e}function x(e,t,r){const o=Object.keys(e);for(const n of o){const o=t?`${t}.${n}`:n;(0,s.default)(e[n])?x(e[n],o,r):r.push(o)}}function C(e){const t=[];return x(e,"",t),t}function F(e){return Object.entries(e).reduce(((e,[t,r])=>(e[r]=t,e)),{})}},615790:(e,t,r)=>{r.d(t,{calculateMinMax:()=>o.calculateMinMax,collectAllPaths:()=>o.collectAllPaths,compareTwoCollectionsByIds:()=>o.compareTwoCollectionsByIds,
findFirst:()=>o.findFirst,indexOf:()=>o.indexOf,intersect:()=>o.intersect,join:()=>o.join,lowerbound:()=>o.lowerbound,lowerboundExt:()=>o.lowerboundExt,mapEntriesGenerator:()=>o.mapEntriesGenerator,minMax:()=>o.minMax,moveAfter:()=>o.moveAfter,moveBefore:()=>o.moveBefore,moveToHead:()=>o.moveToHead,nestedMapGenerator:()=>o.nestedMapGenerator,removeEmptyObjectsFromRecordInplace:()=>o.removeEmptyObjectsFromRecordInplace,removeItemFromArray:()=>o.removeItemFromArray,revertRecord:()=>o.revertRecord,subtract:()=>o.subtract,sum:()=>o.sum,upperbound:()=>o.upperbound});var o=r(127707)},841528:(e,t,r)=>{r.d(t,{intervalsVisibilitiesDefaults:()=>o});const o={ticks:!0,seconds:!0,secondsFrom:1,secondsTo:59,minutes:!0,minutesFrom:1,minutesTo:59,hours:!0,hoursFrom:1,hoursTo:24,days:!0,daysFrom:1,daysTo:366,weeks:!0,weeksFrom:1,weeksTo:52,months:!0,monthsFrom:1,monthsTo:12,ranges:!0}},61689:(e,t,r)=>{r.d(t,{IntervalsVisibilitiesProperty:()=>n});var o=r(751610),s=r(507083);class n extends o.Property{state(e,t){return(0,s.nonDefaultIntervalsVisibilities)(super.state(e,t))??void 0}storeStateIfUndefined(){return!1}}},507083:(e,t,r)=>{r.d(t,{getIntervalsVisibilitiesForMode:()=>p,isActualInterval:()=>c,makeIntervalsVisibilitiesVisibleAtInterval:()=>l,mergeIntervalVisibilitiesDefaults:()=>h,nonDefaultIntervalsVisibilities:()=>d});var o=r(998034),s=r(154834),n=r(650151),i=r(666310),a=r(841528);function l(e,t){let r=t.multiplier();if(t.isTicks()&&(e.ticks=!0),t.isSeconds()&&(r<60?(e.seconds=!0,e.secondsFrom=Math.min(e.secondsFrom,r),e.secondsTo=Math.max(e.secondsTo,r)):(r=Math.floor(r/60),t=new i.Interval(i.ResolutionKind.Minutes,r))),t.isMinutes())if(r<60)e.minutes=!0,e.minutesFrom=Math.min(e.minutesFrom,r),e.minutesTo=Math.max(e.minutesTo,r);else{const t=Math.floor(r/60);e.hours=!0,e.hoursFrom=Math.min(e.hoursFrom,t),e.hoursTo=Math.max(e.hoursTo,t)}t.isDays()&&(e.days=!0,e.daysFrom=Math.min(e.daysFrom,r),e.daysTo=Math.max(e.daysTo,r)),t.isWeeks()&&(e.weeks=!0,e.weeksFrom=Math.min(e.weeksFrom,r),e.weeksTo=Math.max(e.weeksTo,r)),t.isMonths()&&(e.months=!0,e.monthsFrom=Math.min(e.monthsFrom,r),e.monthsTo=Math.max(e.monthsTo,r)),t.isRange()&&(e.ranges=!0)}function u(e,t,r,o){return e&&o>=t&&o<=r}function c(e,t){const r=t.childs();switch(e.kind()){case i.ResolutionKind.Ticks:return r.ticks.value();case i.ResolutionKind.Seconds:if(e.multiplier()<60)return u(r.seconds.value(),r.secondsFrom.value(),r.secondsTo.value(),e.multiplier());{const t=Math.floor(e.multiplier()/60);return u(r.minutes.value(),r.minutesFrom.value(),r.minutesTo.value(),t)}case i.ResolutionKind.Minutes:if(e.multiplier()<60)return u(r.minutes.value(),r.minutesFrom.value(),r.minutesTo.value(),e.multiplier());{const t=Math.floor(e.multiplier()/60);return u(r.hours.value(),r.hoursFrom.value(),r.hoursTo.value(),t)}case i.ResolutionKind.Days:return u(r.days.value(),r.daysFrom.value(),r.daysTo.value(),e.multiplier());case i.ResolutionKind.Weeks:return u(r.weeks.value(),r.weeksFrom.value(),r.weeksTo.value(),e.multiplier());case i.ResolutionKind.Months:
return u(r.months.value(),r.monthsFrom.value(),r.monthsTo.value(),e.multiplier());case i.ResolutionKind.Range:return r.ranges.value()}return(0,n.assert)(!1,`Unsupported resolution: ${e.value()}`),!1}function d(e){const t=Object.keys(e).filter((t=>a.intervalsVisibilitiesDefaults[t]!==e[t]));return 0===t.length?null:t.reduce(((t,r)=>(t[r]=e[r],t)),{})}function h(e){return(0,o.default)((0,s.default)(a.intervalsVisibilitiesDefaults),e??{})}function p(e,t){if(0===t||e.isTicks()&&3===t||e.isRange()&&2===t)return h();let r=!1;const o={ticks:!1,seconds:!1,minutes:!1,hours:!1,days:!1,weeks:!1,months:!1,ranges:!1},s=e=>e.multiplier();return[{checker:e=>e.isTicks(),getIntervalMultiplier:s,markIntervalAsVisible:(e,t)=>{o.ticks=!0}},{checker:e=>e.isSeconds()&&e.multiplier()<60,getIntervalMultiplier:s,markIntervalAsVisible:(e,t)=>{o.seconds=!0,o.secondsFrom=e,o.secondsTo=t}},{checker:e=>e.isSeconds()&&e.multiplier()>=60,getIntervalMultiplier:e=>Math.floor(e.multiplier()/60),markIntervalAsVisible:(e,t)=>{o.minutes=!0,o.minutesFrom=e,o.minutesTo=t}},{checker:e=>e.isMinutes()&&e.multiplier()<60,getIntervalMultiplier:s,markIntervalAsVisible:(e,t)=>{o.minutes=!0,o.minutesFrom=e,o.minutesTo=t}},{checker:e=>e.isMinutes()&&e.multiplier()>=60,getIntervalMultiplier:e=>Math.floor(e.multiplier()/60),markIntervalAsVisible:(e,t)=>{o.hours=!0,o.hoursFrom=e,o.hoursTo=t}},{checker:e=>e.isDays(),getIntervalMultiplier:s,markIntervalAsVisible:(e,t)=>{o.days=!0,o.daysFrom=e,o.daysTo=t}},{checker:e=>e.isWeeks(),getIntervalMultiplier:s,markIntervalAsVisible:(e,t)=>{o.weeks=!0,o.weeksFrom=e,o.weeksTo=t}},{checker:e=>e.isMonths(),getIntervalMultiplier:s,markIntervalAsVisible:(e,t)=>{o.months=!0,o.monthsFrom=e,o.monthsTo=t}},{checker:e=>e.isRange(),getIntervalMultiplier:s,markIntervalAsVisible:(e,t)=>{o.ranges=!0}}].forEach((o=>{if(o.checker(e)){r=!0;const s=o.getIntervalMultiplier(e);1===t?o.markIntervalAsVisible(s,s):3===t?o.markIntervalAsVisible(s,void 0):o.markIntervalAsVisible(void 0,s)}else(!r&&2===t||r&&3===t)&&o.markIntervalAsVisible(void 0,void 0)})),h(o)}},498374:(e,t,r)=>{var o;r.d(t,{PlotRowSearchMode:()=>o}),function(e){e[e.NearestLeft=-1]="NearestLeft",e[e.Exact=0]="Exact",e[e.NearestRight=1]="NearestRight"}(o||(o={}))},292045:(e,t,r)=>{r.d(t,{unpackNonSeriesData:()=>a});var o=r(130551),s=r(650151);function n(e){if(!(0,o.isObject)(e))throw new Error("Graphics commands should be wrapped in an object");if((0,o.hasProperty)(e,"create"),(0,o.hasProperty)(e,"erase")){const t=e.erase;(0,s.assert)(Array.isArray(t),"Collection of erase commands should be array");for(const e of t){if(!(0,o.isObject)(e)||!(0,o.hasProperty)(e,"action"))throw new Error("Command should be an object with 'action' property");(0,s.assert)("all"===e.action||"one"===e.action,"Erase command action should be 'all' or 'one'")}}return e}async function i(e){{
const[{inflateZlib:t,inflateRaw:o},{unpackImpl:s}]=await Promise.all(["function"==typeof DecompressionStream?r.e(95465).then(r.bind(r,228559)):Promise.all([r.e(84069),r.e(82170)]).then(r.bind(r,365044)),r.e(95465).then(r.bind(r,746629))]);return s(t,o,e)}}async function a(e){if(""===e)return null;const t=JSON.parse(e);if(!(0,o.isObject)(t)||"function"==typeof t)throw new Error("Non-object content in the non-series envelope");if((0,o.hasProperty)(t,"indexes_replace"))return{indexes_replace:!0};const r={indexes_replace:!1};if((0,o.hasProperty)(t,"offsets")&&(r.offsets=t.offsets),(0,o.hasProperty)(t,"isUpdate")){if("boolean"!=typeof t.isUpdate)throw new Error('Invalid type of "isUpdate" field');r.isUpdate=t.isUpdate}return(0,o.hasProperty)(t,"data")&&(r.data=t.data),(0,o.hasProperty)(t,"graphicsCmds")&&(r.graphicsCmds=n(t.graphicsCmds)),(0,o.hasProperty)(t,"dataCompressed")&&(r.data=await i(t.dataCompressed)),(0,o.hasProperty)(t,"graphicsCmdsCompressed")&&(r.graphicsCmds=n(await i(t.graphicsCmdsCompressed))),r}},74037:(e,t,r)=>{r.d(t,{isRootPath:()=>a,propertyByPath:()=>i,propertyPathForSource:()=>s});var o=r(650151);function s(e,t="properties"){return`charts.${e.model().id()}.sources.${e.id()}.${t}`}function n(e,t){if(t.length<4)throw new Error("Invalid chart path");const r=function(e,t){return(0,o.ensureDefined)(e.getAll().find((e=>e.hasModel()&&e.model().model().id()===t))).model().model()}(e,t[0]),s=t[1];if("sources"===s){return(0,o.ensureNotNull)(r.dataSourceForId(t[2])).propertyByPath(t.slice(3).join("."))}throw new Error(`Invalid chart path, unknown root: ${s}`)}function i(e,t){const r=t.split(".");if(r.length<1)throw new Error("Invalid path");const o=r[0];if("charts"===o)return n(e,r.slice(1));throw new Error(`Invalid path, unknown root: ${o}`)}function a(e){return e.startsWith("charts.")}},763268:(e,t,r)=>{r.d(t,{applyDefaultColorsToPropsState:()=>O,blacklistedProperties:()=>E,prepareStudyProperties:()=>A,prepareStudyPropertiesForLoadChart:()=>S,prepareStudyPropsStateForLoadChart:()=>k,studyGeneralPropsState:()=>T,studyPropsExcludeDefaultsKeys:()=>R});var o=r(998034),s=r(130551),n=r(735566),i=r(536794),a=r(790188),l=r(327734),u=r(981182),c=r(453287),d=r(344060),h=r(841528),p=r(294721),f=r(61689),m=r(140831);const y=(0,n.getLogger)("Chart.Study"),v=(0,a.getHexColorByName)("color-tv-blue-500"),w=(0,a.getHexColorByName)("color-tv-blue-500"),b=(0,a.getHexColorByName)("color-tv-blue-500"),g=(0,a.getHexColorByName)("color-tv-blue-500"),P=(0,a.getHexColorByName)("color-cold-gray-500"),M=(0,a.getHexColorByName)("color-tv-blue-500"),I=(0,a.getHexColorByName)("color-tv-blue-500");function S(e,t,r,o,s,n){return function(e,t,r,o,s,n,i){const a=k(e,t,r,o,n);return D(t||e,s,a,i,!0)}(e,t,r,o,l.StudyMetaInfo.getStudyPropertyRootName(e),s,n)}function k(e,t,r,s,n){e.version&&r.version&&e.version!==r.version&&y.logWarn("Serialized metaInfo version "+e.version+" is not equal to the saved state version "+r.version);const a=t||e,u=(0,
i.clone)(a.defaults)??{},d=l.StudyMetaInfo.getStudyPropertyRootName(a),h=l.StudyMetaInfo.getStudyPropertyRootName(e);let p=T();return(0,o.default)(p,V(e)),(0,o.default)(p,(0,i.clone)(e.defaults)),(0,o.default)(p,u),(0,o.default)(p,(0,c.factoryDefaults)(d)),(0,o.default)(p,(0,c.factoryDefaults)(h)),(0,o.default)(p,x(a,s,d)),(0,o.default)(p,x(e,s,h)),(0,o.default)(p,r),O(p,a),p=s.updateStudyState(p,e,t),void 0!==n&&t&&(p=n(r,p,e,t)),l.StudyMetaInfo.versionOf(a)>=1&&(0,o.default)(p,C(u,p)),p}function V(e){const t={};if(e.plots)for(let r=0;r<e.plots.length;r++){const o=e.plots[r],s=o.id;if((0,m.isColorerPlot)(o))continue;const n={display:4294967295,color:v,linestyle:u.LINESTYLE_SOLID,linewidth:2,plottype:m.LineStudyPlotStyle.Line,trackPrice:!1};(0,m.isBarColorerPlot)(o)&&(n.transparency=0),n.plottype=o.type,n.title=s,t[s]=(0,i.clone)(n)}return{styles:t}}function T(){const e=(0,i.clone)((0,c.defaults)("study"));return e.intervalsVisibilities=(0,i.clone)(h.intervalsVisibilitiesDefaults),e}function x(e,t,r){let o=(0,i.clone)((0,c.defaults)(r,t));return"Overlay"!==e.shortId&&"Compare"!==e.shortId||(o.currencyId=null,o.unitId=null),e.isTVScript&&e.TVScriptSourceCode!==o.TVScriptSourceCode&&(o=(0,i.clone)((0,c.factoryDefaults)(r))),o}function C(e,t){const r={};return d.StudyVersioning.mergeInputsObjPart(r,e.inputs??{}),d.StudyVersioning.mergeInputsObjPart(r,t.inputs),{inputs:r}}function F(e,t,r,n){if(l.StudyMetaInfo.versionOf(e)<1)throw new Error("This function cannot work with metainfo of the old format version. Required format version >= 1");const a=l.StudyMetaInfo.getStudyPropertyRootName(e),u=(0,i.clone)(e.defaults),d=(0,c.factoryDefaults)(a),h=T();if((0,o.default)(h,V(e)),(0,o.default)(h,u),(0,o.default)(h,d),(0,o.default)(h,x(e,n,a)),(0,o.default)(h,t),(0,o.default)(h,C(u,h)),O(h,e),null!==r){const t=r.model().studiesColorRotatorFactory().getColorRotator(e);null!==t&&("Overlay@tv-basicstudies"===e.id?h.lineStyle.color=t.getColor(h.lineStyle.color,d.lineStyle.color===h.lineStyle.color):(0,o.default)(h,function(e,t){for(const r of Object.keys(e.styles)){const o=e.styles[r];if((0,s.isObject)(o)&&"color"in o){const e=o.color;o.color=t.getColor(e)}}return e}(h,t)))}return n.updateStudyInputsIfNeeded(h,h.version??e.version,e),h}function O(e,t){if(t.plots&&e.styles)for(let r=0;r<t.plots.length;r++){const o=t.plots[r],s=o.id;if((0,m.isLinePlot)(o)){const t=e.styles[s];t&&null===t.color&&(t.color=v)}else if((0,m.isShapesPlot)(o)){const t=e.styles[s];t&&(null===t.color&&(t.color=w),null===t.textColor&&(t.textColor=g))}else if((0,m.isCharsPlot)(o)){const t=e.styles[s];t&&(null===t.color&&(t.color=M),null===t.textColor&&(t.textColor=I))}else if((0,m.isOhlcPlot)(o)){const t=e.ohlcPlots?.[o.target];t&&null===t.color&&(t.color=b)}}if(e.bands)for(let t=0;t<e.bands.length;++t){const r=e.bands[t];null===r.color&&(r.color=P)}}function A(e,t,r,o,s){return function(e,t,r,o,s,n){const a=F(e,t,r,o),u=l.StudyMetaInfo.getSourceInputIds(e);return u.forEach(((e,t)=>{const r=a.inputs[e];t<n.length?a.inputs[e]=`${n[t].id()}$0`:(0,
i.isString)(r)&&r.includes("$")&&(a.inputs[e]="close")})),D(e,s,a)}(e,t,r,o,l.StudyMetaInfo.getStudyPropertyRootName(e),s)}const E=["id","description","description_localized","shortDescription","_metainfoVersion","is_price_study","is_hidden_study","priceScale","fullId","shortId","scriptIdPart","packageId","productId","isTVScriptStub","defaults","symbolSource","historyCalculationMayChange","format","linkedToSeries","isTVLibrary","docs","exports","exportTypes","extra","usesPrivateLib","financialPeriod","groupingKey","pine","isRGB","isTVScript","TVScriptMetaInfoExprs","usePlotsZOrder","isTVScriptStrategy","TVScriptSourceCode","lookaheadFutureData","hasAlertFunction","defaultStrategyAlertMessage","tags","canBeChild","canNotBeChild","_serverMetaInfoVersion","warnings"];function R(e){const t=["visible","precision","minTick","intervalsVisibilities","inputs.first_visible_bar_time","inputs.last_visible_bar_time","inputs.subscribeRealtime"];for(let r=0;r<e.inputs.length;++r){const o=e.inputs[r];o.isHidden&&(t.push(`inputs.${r}`),t.push(`inputs.${o.id}`))}return t}function D(e,t,r,o,s){for(const e of E)delete r[e];const n=new p.DefaultProperty({defaultName:t,state:r,excludedDefaultsKeys:R(e),excludedStateKeys:["version"],theme:o});n.removeProperty("intervalsVisibilities"),n.addChild("intervalsVisibilities",new f.IntervalsVisibilitiesProperty(r&&r.intervalsVisibilities)),"PivotPointsStandard@tv-basicstudies"!==e.id&&"PivotPointsHighLow@tv-basicstudies"!==e.id||!n.hasChild("font")||n.removeProperty("font");const i=l.StudyMetaInfo.versionOf(e);return n.hasChild("version")?n.childs().version?.setValue(i):n.addProperty("version",i),e.TVScriptMetaInfoExprs&&!s&&n.addProperty("patchMetaInfoDefaults",!0),n}},446448:(e,t,r)=>{r.d(t,{LiveStudyGraphics:()=>i.LiveStudyGraphics,createGraphicsPaneViews:()=>p,createGraphicsPriceAxisViews:()=>m,emptyStudyGraphics:()=>n.emptyStudyGraphics,isStudyGraphicsEmpty:()=>s.isStudyGraphicsEmpty,loadStudyGraphics:()=>n.loadStudyGraphics,saveStudyGraphics:()=>n.saveStudyGraphics});var o=r(735566),s=r(523480),n=r(934255),i=r(139096),a=r(207925),l=r(650369);class u extends a.PriceAxisView{constructor(e,t){super(),this._source=e,this._data=t}_updateRendererData(e,t,r){e.visible=!1;const o=this._source.priceScale(),s=this._source.properties().childs(),n=s.visible.value();if(!o||o.isEmpty()||!n)return;const i=s.graphics.childs()[this._data.lineType]?.childs()[this._data.styleId]?.childs();if(!(void 0!==i&&i.visible&&i.visible.value()&&i.showPrice&&i.showPrice.value()&&this._isLabelVisibleAccordinglyToProperties()))return;const a=this._source.firstValue();if(null===a)return;const u=this._data.line.level,c=(0,l.resetTransparency)(i.color.value());r.background=c,r.textColor=this.generateTextColor(c),r.coordinate=o.priceToCoordinate(u,a),e.text=o.formatPrice(u,a,{signPositive:o.isPercentage()}),e.visible=!0,e.selectedMarkColor=this._source.model().selection().isSelected(this._source)?c:void 0}_isLabelVisibleAccordinglyToProperties(){const e=this._source.model().properties().childs().scalesProperties.childs()
;return(e.showStudyLastValue.value()||e.showFundamentalLastValue.value())&&this._source.properties().childs().showLabelsOnPriceScale.value()}}const c=(0,o.getLogger)("Chart.StudyGraphics"),d=new Set(["dwgtablecells","tpoBlockSets","tpoLevels","tpoVolumeRows","logs","performance"]);async function h(e,t,o,s){const n=e=>({regularPaneView:new e(t,o,s)}),i=e=>({regularPaneView:new e(t,o,!1,s),forceOverlayPaneView:new e(t,o,!0,s)});switch(e){case"hlines":return n((await Promise.all([r.e(13946),r.e(99185),r.e(70341),r.e(20507)]).then(r.bind(r,734944))).LevelPaneView);case"lines":return n((await Promise.all([r.e(13946),r.e(99185),r.e(70341),r.e(20507)]).then(r.bind(r,127207))).LinePaneView);case"shapemarks":return n((await Promise.all([r.e(13946),r.e(99185),r.e(70341),r.e(20507)]).then(r.bind(r,535150))).ShapeMarkPaneView);case"textmarks":return n((await Promise.all([r.e(13946),r.e(99185),r.e(70341),r.e(20507)]).then(r.bind(r,620394))).TextMarkPaneView);case"trendchannels":return n((await Promise.all([r.e(13946),r.e(99185),r.e(70341),r.e(20507)]).then(r.bind(r,790249))).TrendChannelPaneView);case"dwglabels":return i((await Promise.all([r.e(13946),r.e(99185),r.e(70341),r.e(20507)]).then(r.bind(r,749065))).DwgLabelPaneView);case"dwglines":return i((await Promise.all([r.e(13946),r.e(99185),r.e(70341),r.e(20507)]).then(r.bind(r,412377))).DwgLinePaneView);case"dwgpolylines":return i((await Promise.all([r.e(13946),r.e(99185),r.e(70341),r.e(20507)]).then(r.bind(r,715316))).DwgPolylinePaneView);case"dwgboxes":return i((await Promise.all([r.e(13946),r.e(99185),r.e(70341),r.e(20507)]).then(r.bind(r,19186))).DwgBoxPaneView);case"dwgtables":return i((await Promise.all([r.e(13946),r.e(99185),r.e(70341),r.e(20507)]).then(r.bind(r,614933))).DwgTablePaneView);case"dwglinefills":return i((await Promise.all([r.e(13946),r.e(99185),r.e(70341),r.e(20507)]).then(r.bind(r,98282))).DwgLineFillPaneView);case"tpos":return{regularPaneView:new((await Promise.all([r.e(32856),r.e(97542),r.e(17773),r.e(58880),r.e(99185),r.e(79326),r.e(33327),r.e(85631),r.e(96068),r.e(66635),r.e(769)]).then(r.bind(r,916445))).TpoPaneView)(t,o,s)};case"footprints":return{regularPaneView:new((await Promise.all([r.e(80977),r.e(53464),r.e(9141)]).then(r.bind(r,646452))).VolumeFootprintPaneView)(t,o)}}switch(e){case"hhists":return n((await Promise.all([r.e(13946),r.e(99185),r.e(70341),r.e(20507)]).then(r.bind(r,101816))).HHistPaneView);case"horizlines":return n((await Promise.all([r.e(13946),r.e(99185),r.e(70341),r.e(20507)]).then(r.bind(r,399545))).HorizLinePaneView);case"vertlines":return n((await Promise.all([r.e(13946),r.e(99185),r.e(70341),r.e(20507)]).then(r.bind(r,56284))).VertLinePaneView);case"polygons":return n((await Promise.all([r.e(13946),r.e(99185),r.e(70341),r.e(20507)]).then(r.bind(r,175920))).PolygonPaneView);case"backgrounds":return n((await Promise.all([r.e(13946),r.e(99185),r.e(70341),r.e(20507)]).then(r.bind(r,68931))).BackgroundPaneView)}return null}async function p(e,t,r){const o=[],s=[],n=Object.keys(e.graphicsInfo());n.sort(((e,t)=>f(e)-f(t)))
;for(const i of n){const n=await h(i,e,t,r);null!==n?(o.push(n.regularPaneView),n.forceOverlayPaneView&&s.push(n.forceOverlayPaneView)):d.has(i)||c.logWarn(`${i} is not supported by this build of graphics subsystem, skipping`)}return{regularPaneViews:o,forceOverlayPaneViews:s}}function f(e){return s.primitivesZOrders.get(e)??0}function m(e){const t=Object.keys(e.graphicsInfo()),r=[];for(const o of t)switch(o){case"hlines":e.graphics().hlines().forEach(((t,s)=>{t.forEach((t=>{void 0!==t.level&&r.push(new u(e,{line:{level:t.level},styleId:s,lineType:o}))}))}));break;case"horizlines":e.graphics().horizlines().forEach(((t,s)=>{t.forEach((t=>{void 0!==t.level&&r.push(new u(e,{line:{level:t.level},styleId:s,lineType:o}))}))}))}return r}},887947:(e,t,r)=>{r.d(t,{makeNextStudyId:()=>i,makeNextSymbolId:()=>s});let o=0;function s(){return o++,"ss_"+o}let n=0;function i(){return n++,"st"+n}},549904:(e,t,r)=>{r.d(t,{colorsAreCloseEnough:()=>u,isColorDark:()=>h});var o=r(481251),s=r(724377);function n(e){return e<0&&(e+=2*Math.PI),e}function i(e,t){const[r,o,s]=e,[i,a,l]=t,u=(Math.sqrt(o**2+s**2)+Math.sqrt(a**2+l**2))/2,c=.5*(1-Math.sqrt(Math.pow(u,7)/(Math.pow(u,7)+6103515625))),d=(1+c)*o,h=(1+c)*a,p=Math.sqrt(d*d+s*s),f=Math.sqrt(h*h+l*l),m=0===s&&0===d?0:n(Math.atan2(s,d)),y=0===l&&0===h?0:n(Math.atan2(l,h)),v=i-r,w=f-p;let b;const g=p*f;0===g?b=0:(b=y-m,b<-Math.PI?b+=2*Math.PI:b>Math.PI&&(b-=2*Math.PI));const P=2*Math.sqrt(g)*Math.sin(b/2),M=(r+i)/2,I=(p+f)/2;let S;const k=m+y;S=p*f==0?k:Math.abs(m-y)<=Math.PI?k/2:k<2*Math.PI?(k+2*Math.PI)/2:(k-2*Math.PI)/2;const V=1-.17*Math.cos(S-Math.PI/6)+.24*Math.cos(2*S)+.32*Math.cos(3*S+Math.PI/30)-.2*Math.cos(4*S-Math.PI/180*63),T=Math.PI/6*Math.exp(-Math.pow((S-Math.PI/180*275)/(Math.PI/180*25),2)),x=2*Math.sqrt(Math.pow(I,7)/(Math.pow(I,7)+6103515625)),C=1+.015*Math.pow(M-50,2)/Math.sqrt(20+Math.pow(M-50,2)),F=1+.045*I,O=1+.015*I*V,A=-Math.sin(2*T)*x;return Math.sqrt(Math.pow(v/(1*C),2)+Math.pow(w/(1*F),2)+Math.pow(P/(1*O),2)+A*(w/(1*F))*(P/(1*O)))}const a=[127,127,127];function l(e){const t=e[3],r=e.slice(0,3);for(let e=0;e<3;e++)r[e]=Math.round(r[e]*t+a[e]*(1-t));return r}function u(e,t){return i(f(p(l((0,s.parseRgba)(e)))),f(p(l((0,s.parseRgba)(t)))))<3}const c=(0,o.default)((()=>f(p([0,0,0])))),d=(0,o.default)((()=>f(p([255,255,255]))));function h(e){const t=f(p(l((0,s.parseRgba)(e))));return i(t,c())<i(t,d())}function p(e){const[t,r,o]=e,s=t/255,n=r/255,i=o/255,a=100*(s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92),l=100*(n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92),u=100*(i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92);return[.4124*a+.3576*l+.1805*u,.2126*a+.7152*l+.0722*u,.0193*a+.1192*l+.9505*u]}function f(e){const[t,r,o]=e,s=t/95.047,n=r/100,i=o/108.883,a=s>.008856?Math.pow(s,1/3):7.787*s+16/116,l=n>.008856?Math.pow(n,1/3):7.787*n+16/116;return[116*l-16,500*(a-l),200*(l-(i>.008856?Math.pow(i,1/3):7.787*i+16/116))]}},42437:(e,t,r)=>{function o(e){let t
;if("object"!=typeof e||null==e||"number"==typeof e.nodeType)t=e;else if(e instanceof Date)t=new Date(e.valueOf());else if(Array.isArray(e)){t=[];let r=0;const s=e.length;for(;r<s;r++)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=o(e[r]))}else{t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=o(e[r]))}return t}r.d(t,{deepCopy:()=>o})}}]);