"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[90090],{507458:(e,t,r)=>{function i(){return navigator.androidClipboard??navigator.clipboard}function o(e){return n(e,null)}function n(e,t){const r=e.files&&e.files.length>0;if(!r&&t&&t.eventPhase>0)return s(t,e),Promise.resolve();if(!r){let t=!1;const r=r=>{r.stopImmediatePropagation(),s(r,e),t=!0};try{document.addEventListener("copy",r,!0),document.execCommand("copy")}finally{document.removeEventListener("copy",r,!0)}if(t)return Promise.resolve()}return async function(e){const t=i();if(!t||!t.write||!window.ClipboardItem)throw new DOMException("ClipboardApi is not supported","NotSupportedError");const r={};for(const t of e.files||[])r[t.type]=t;e.text&&(r["text/plain"]=e.text);e.html&&(r["text/html"]=e.html);return t.write([new window.ClipboardItem(r)])}(e)}function s(e,t){e.preventDefault();const r=e.clipboardData;t.text&&r.setData("text/plain",t.text),t.html&&r.setData("text/html",t.html)}async function a(e,t){const r=i();if("text/plain"===t&&!r.write){const t=await e;return r.writeText(await t.text())}if(!r||!r.write||!window.ClipboardItem)throw new DOMException("ClipboardApi is not supported","NotSupportedError");let o=null;try{o=new window.ClipboardItem({[t]:e})}catch(r){o=new window.ClipboardItem({[t]:await e})}if(o)return r.write([o]);throw new Error("ClipboardApi is not supported")}r.r(t),r.d(t,{copyToClipboard:()=>o,getClipboard:()=>i,writeImpl:()=>n,writePromiseUsingApi:()=>a})},351440:(e,t,r)=>{async function i(){return Promise.all([r.e(83496),r.e(51613),r.e(71931),r.e(30612),r.e(66402),r.e(10584),r.e(83038),r.e(99844),r.e(82321),r.e(62526),r.e(97486)]).then(r.bind(r,826618))}r.d(t,{importPopupRender:()=>i})},613122:(e,t,r)=>{r.r(t),r.d(t,{closeCurrentPublicationViewPopup:()=>d,getPublicationType:()=>s,importEntryComponent:()=>a,openPublicationViewPopup:()=>h,preloadPublicationViewPopup:()=>u});var i=r(783359),o=r(351440);const n=new Set([i.ScriptType.Indicator,i.ScriptType.Library,i.ScriptType.Strategy,"indicator","library","strategy"]);function s({isVideo:e,isScript:t,scriptType:r}){switch(!0){case e:return"video";case t:case n.has(r||""):return"script";default:return"idea"}}async function a(e){switch(e){case"video":
return Promise.all([r.e(76262),r.e(96996),r.e(18218),r.e(37479),r.e(63225),r.e(58867),r.e(99516),r.e(22232),r.e(5607),r.e(34217),r.e(15242),r.e(79856),r.e(20064),r.e(59914),r.e(59338),r.e(8749),r.e(21257),r.e(34168),r.e(98233),r.e(8692),r.e(7013),r.e(49810),r.e(33201),r.e(94609),r.e(64670),r.e(34528),r.e(37756),r.e(63301),r.e(47725),r.e(19343),r.e(45384),r.e(21333),r.e(72946),r.e(87853),r.e(66143),r.e(44928),r.e(58025),r.e(11332),r.e(36597),r.e(17456),r.e(52574),r.e(31171),r.e(23023),r.e(77811),r.e(52859),r.e(35874),r.e(79285),r.e(11290),r.e(80837),r.e(74148),r.e(9390),r.e(96222),r.e(81646),r.e(27756),r.e(50978),r.e(24312),r.e(82729),r.e(83038),r.e(31655),r.e(19323),r.e(27649),r.e(97250),r.e(53072),r.e(49691),r.e(15012),r.e(448),r.e(98795),r.e(86016),r.e(12694),r.e(56790),r.e(61255),r.e(96084),r.e(88491),r.e(82321),r.e(84434),r.e(31158),r.e(71996),r.e(72201),r.e(7599),r.e(65927),r.e(82085),r.e(35357),r.e(11525),r.e(14081),r.e(61197),r.e(14202),r.e(43472),r.e(87699),r.e(52586),r.e(14455),r.e(72251),r.e(97071)]).then(r.bind(r,617310)).then((e=>e.PublicationViewVideo));case"script":return Promise.all([r.e(65627),r.e(71931),r.e(96996),r.e(18218),r.e(27881),r.e(93986),r.e(37479),r.e(63225),r.e(58867),r.e(99516),r.e(22232),r.e(5607),r.e(34217),r.e(15242),r.e(79856),r.e(20064),r.e(59914),r.e(23397),r.e(59338),r.e(52214),r.e(8749),r.e(75868),r.e(94015),r.e(21257),r.e(34168),r.e(98233),r.e(8692),r.e(7013),r.e(49810),r.e(21078),r.e(33201),r.e(94609),r.e(64670),r.e(1601),r.e(34528),r.e(37756),r.e(63301),r.e(47725),r.e(19343),r.e(45384),r.e(91782),r.e(21333),r.e(72946),r.e(87853),r.e(66143),r.e(44928),r.e(58025),r.e(11332),r.e(36597),r.e(17456),r.e(52574),r.e(31171),r.e(23023),r.e(77811),r.e(52859),r.e(35874),r.e(79285),r.e(11290),r.e(80837),r.e(74148),r.e(9390),r.e(96222),r.e(81646),r.e(27756),r.e(50978),r.e(24312),r.e(82729),r.e(83038),r.e(31655),r.e(19323),r.e(27649),r.e(97250),r.e(53072),r.e(49691),r.e(15012),r.e(448),r.e(98795),r.e(86016),r.e(12694),r.e(56790),r.e(61255),r.e(29035),r.e(82321),r.e(84434),r.e(31158),r.e(71996),r.e(72201),r.e(7599),r.e(65927),r.e(82085),r.e(41455),r.e(35357),r.e(11525),r.e(14081),r.e(61197),r.e(14202),r.e(43472),r.e(87699),r.e(52586),r.e(14455),r.e(72251),r.e(85116),r.e(14675)]).then(r.bind(r,121435)).then((e=>e.PublicationViewScript));case"idea":
return Promise.all([r.e(65627),r.e(71931),r.e(96996),r.e(18218),r.e(27881),r.e(93986),r.e(37479),r.e(63225),r.e(58867),r.e(99516),r.e(22232),r.e(5607),r.e(34217),r.e(15242),r.e(79856),r.e(20064),r.e(59914),r.e(23397),r.e(59338),r.e(52214),r.e(8749),r.e(75868),r.e(94015),r.e(21257),r.e(34168),r.e(98233),r.e(8692),r.e(7013),r.e(49810),r.e(21078),r.e(33201),r.e(94609),r.e(64670),r.e(1601),r.e(34528),r.e(37756),r.e(63301),r.e(47725),r.e(19343),r.e(45384),r.e(91782),r.e(21333),r.e(72946),r.e(87853),r.e(66143),r.e(44928),r.e(58025),r.e(11332),r.e(36597),r.e(17456),r.e(52574),r.e(31171),r.e(23023),r.e(77811),r.e(52859),r.e(35874),r.e(79285),r.e(11290),r.e(80837),r.e(74148),r.e(9390),r.e(96222),r.e(81646),r.e(27756),r.e(50978),r.e(24312),r.e(82729),r.e(83038),r.e(31655),r.e(19323),r.e(27649),r.e(97250),r.e(53072),r.e(49691),r.e(15012),r.e(448),r.e(98795),r.e(86016),r.e(12694),r.e(56790),r.e(61255),r.e(29035),r.e(82321),r.e(84434),r.e(31158),r.e(71996),r.e(72201),r.e(7599),r.e(65927),r.e(82085),r.e(41455),r.e(35357),r.e(11525),r.e(14081),r.e(61197),r.e(14202),r.e(43472),r.e(87699),r.e(52586),r.e(14455),r.e(72251),r.e(85116),r.e(84822)]).then(r.bind(r,523748)).then((e=>e.PublicationViewIdea))}}let l=!1;async function c(){return l=!0,r.e(58214).then(r.bind(r,661254))}async function d(){if(!l)return;const e=await c();await e.closeCurrentPublicationViewPopup()}async function u(e){c(),(0,o.importPopupRender)(),a(e)}async function h(e){return(await c()).openPublicationViewPopup(e)}},783359:(e,t,r)=>{var i,o,n;r.d(t,{CONTAINS_IO_SCRIPT_TAG:()=>s,PublicationMethod:()=>o,ScriptAccessType:()=>i,ScriptType:()=>n}),function(e){e[e.Public=1]="Public",e[e.Protected=2]="Protected",e[e.InviteOnly=3]="InviteOnly"}(i||(i={})),function(e){e[e.New=0]="New",e[e.Edit=1]="Edit",e[e.Update=2]="Update"}(o||(o={})),function(e){e[e.Indicator=1]="Indicator",e[e.Strategy=2]="Strategy",e[e.Library=3]="Library"}(n||(n={}));const s="containsioscript"},625367:(e,t,r)=>{r.d(t,{solutionIds:()=>i})
;const i=JSON.parse('{"EXTENDED_HOURS":43000502023,"PRE_MARKET":43000502023,"POST_MARKET":43000502023,"SPREAD_CHARTS":43000502298,"ALERTS":43000520149,"ALERT_ON_STRATEGY":43000481368,"ALERT_WEBHOOK":43000529348,"ALERT_DESCRIPTION_PLACEHOLDER":43000531021,"ALERT_RECEIVE_NOTIFICATIONS_OH_PHONE":43000474389,"ALERT_USE_ALTERNATIVE_EMAIL":43000474394,"ALERT_WEBHOOK_CREDENTIALS":43000722015,"ALERT_KEEP_TOASTS_VISIBLE":43000737982,"VOLUME_PROFILE":43000502040,"VOLUME_PROFILE_INDICATOR":43000557450,"RENKO":43000502284,"KAGI":43000502272,"LINE_BREAK":43000502273,"PNF":43000502276,"FINANCIAL_DATA":43000543506,"BROKER_RATING":43000542490,"CRYPTO_MARKET_CAP":43000540941,"CRYPTO_PAYMENT":43000485536,"ALERT_ON_SPREAD":43000478406,"ALERT_DEGRADED_STATE":43000739521,"ALERT_ON_LOG_SCALE":43000690942,"ALERT_ON_CUSTOM_SCRIPT":43000478415,"ALERT_FUNCTION":43000597494,"ALERT_MULTICONDITIONS":43000761492,"SMS_VERIFICATION":43000553429,"MAGNET_MODE":43000537270,"PRIVACY_SETTINGS":43000548335,"PUBLICATION_TYPE":43000609497,"SCRIPT_ACCESS":43000482573,"FREE_USER_FAQS":43000590947,"STRATEGY_UNREALISTIC_RESULTS":43000481029,"STRATEGY_FUTURE_DATA":43000614705,"HOW_TO_USE_PAPER":43000516466,"HOW_TO_USE_CQG":43000516372,"HOW_TO_USE_OANDA":43000516375,"HOW_TO_USE_FOREXCOM":43000516374,"FAVORITE_IDEA":43000555216,"AUTHORS_INSTRUCTIONS_PUBCLICATION":43000549951,"AUTHORS_INSTRUCTIONS_EDIT":43000614618,"SCRIPT_INSTRUCTIONS":43000482573,"BAR_REPLAY_UNAVAILABILITY":43000475470,"WHAT_IS_CBOE_BZX_EXCHANGE":43000473924,"GOPRO_UPGRADE_DESCRIPTION":43000473324,"GOPRO_DOWNGRADE_DESCRIPTION":43000485437,"GOPRO_RENEW_ANNUAL_MONTHLY_DESCRIPTION":43000644491,"FINANCIALS_OWNERSHIP":43000699479,"FINANCIALS_VALUATION_SUMMARY":43000699484,"FINANCIALS_VALUATION_RATIOS":43000699495,"FINANCIALS_GROWTH_AND_PROFITABILITY":43000699485,"FINANCIALS_REVENUE_TO_PROFIT_CONVERSION":43000699496,"FINANCIALS_REVENUE_BREAKDOWN_BY_SOURCE":43000699487,"FINANCIALS_REVENUE_BREAKDOWN_BY_COUNTRY":43000699497,"FINANCIALS_REVENUE_ESTIMATES":43000699489,"FINANCIALS_EARNINGS_ESTIMATES":43000699498,"FINANCIALS_DIVIDEND_SUMMARY":43000699500,"FINANCIALS_DIVIDEND_HISTORY":43000699501,"FINANCIALS_DEBT_LEVEL":43000699502,"FINANCIALS_POSITION":43000699503,"FIRE_CONTROL_SOLUTION":43000690939,"BROKERAGE_REVIEWS":43000591351,"LINKS_TO_SOCIAL_MEDIA":43000635806,"PINE_LIBRARY_INFO":43000638371,"TECHNICAL_RATINGS":43000614331,"BACKTESTING_WIDGET":43000562362,"BACKTESTING_NO_DATA":43000478450,"BACKEND_CONNECTIONS":43000694474,"DEEP_BACKTESTING_WIDGET":43000670566,"DEEP_BACKTESTING":43000666199,"DEEP_BACKTESTING_AVAILABLE_DATA":43000668210,"BETA_BROKERS":43000673434,"VIDEO_UPLOAD_FAILED":43000666607,"VIDEO_DEVICE_ACCESS":43000677209,"PUBLIC_INVITE_ONLY_SCRIPTS":43000614617,"PRIVATE_INVITE_ONLY_SCRIPTS":43000614617,"HOW_DOES_BRACKETS_MANAGEMENT_WORK":43000631987,"HOW_TO_SEE_THE_DEEPEST_HIST_DATA":43000687053,"I_CANT_SEE_ALL_HIST_DATA_ON_RES_LOWER_THAN_DAY":43000480679,"IDEAS_ON_CHART":43000694285,"GET_A_REFUND":43000485430,"USE_SETTLEMENT_AS_CLOSE_ON_DAILY_INTREVAL":43000685268,"ADJUST_FOR_CONTRACT_CHANGES":43000685266,"SWITCHING_CONTINUOUS_FUTURES_CONTRACTS":43000689313,"ADJUST_DATA_FOR_DIVIDENDS":43000590597,"WHY_IS_MY_ACCOUNT_BANNED":43000674726,"HOW_TO_PUBLISH_A_VIDEO_IDEA":43000476752,"TELL_ME_MORE_ABOUT_THE_COMMUNITY_SCRIPTS":43000558522,"HOW_TO_POST_AWESOME_IDEAS_AND_GET_LOTS_OF_LIKES":43000603748,"ABOUT_EXPERT_PLAN":43000677382,"CONNECTIONS_LIMIT_EXCEEDED":43000693877,"ACCOUNT_RECOVERY":43000619597,"HOW_TO_SYNC_CHARTS_ON_LAYOUT":43000629992,"HOW_TO_SEE_BUILTIN_INDICATOR_SOURCE":43000481659,"MULTI_CHART_MODE":43000629990,"QUICK_SEARCH":43000659671,"WHATS_AN_INDICATOR":43000543626,"CHART_TYPES":43000703407,"DRAWING_TOOLS":43000703396,"CUSTOM_INTERVALS":43000543883,"CUSTOM_RANGE_BARS":43000474007,"CANDLESTICK_PATTERNS":43000584462,"MULTI_TIMEFRAME_CHARTS":43000502591,"BAR_REPLAY":43000712747,"PINE_SCRIPT":43000561836,"SCREENER_OVERVIEW":43000635796,"AUTO_CHART_PATTERNS":43000690464,"HOW_TO_PROTECT_YOUR_ACCOUNT":43000582277,"PLUS_BUTTON":43000645256,"PLAN_UPGRADED_BUT_DATA_STILL_DELAYED":43000471705,"WHY_TAX_HAS_BEEN_ADDED_TO_MY_BILL":43000684741,"COMPARE_SYMBOLS_TOOL":43000543053,"SAVED_CHART":43000692404,"CUSTOM_INDICATOR":43000543048,"BIST_MIXED_SUBSCRIPTION":43000609137,"WHY_RENKO_NOT_WORK":43000711502,"ALERTS_SEPARATION_BY_TYPE":43000696403,"WATCHLIST_ALERTS":43000739708,"HOW_TO_SET_UP_ALERTS":43000595315,"PINE_SCRIPT_STRATEGIES":43000562362,"PINE_SCREENER":43000742436,"ECONOMIC_CALENDAR":43000707391,"SCRIPT_PUBLISHING_RULES":43000590599,"DIFFERENCE_BETWEEN_PRO_AND_NONPRO_PLANS":43000677382,"HOW_TO_USE_MINDS":43000690226,"HOW_TO_USE_TRADINGVIEW_CHAT":43000604448,"PAPER_COMPETITION":43000593579,"PAPER_COMPETITION_ACCOUNT":43000721315,"PAPER_COMPETITION_PRIZE":43000721317,"PAPER_COMPETITION_FREE_ACCOUNT":43000721310,"PUBLISHING_AND_UPDATING_IDEAS":43000591338,"USING_MINDS":43000696301,"PUBLISH_VIDEO_IDEA":43000476752,"TAROT_DECK":43000724020,"VAT_NUMBER_GUIDE":43000721910,"PINE_PERFORMANCE_PROFILER":43000725216,"PINE_LOGS_INFO":43000710876,"INDICATORS":43000474048,"CHART_DATA_EXPORT":43000537255,"TIME_PRICE_OPPORTUNITIES":43000713306,"TICK_INTERVALS":43000709225,"VOLUME_FOOTPRINT":43000726164,"VOLUME_CANDLES":43000724995,"HEIKIN_ASHI":43000619436,"HLC_AREA":43000709062,"BASELINE":43000690232,"HIGH_LOW":43000677196,"COLUMNS":43000673912,"GIFTS":43000739401,"HOW_TO_BECOME_MODERATOR":43000591356,"HOW_TO_FIND_PINE_PROGRAMMER":43000601677,"HOW_TO_CHANGE_REPLAY_INTERVAL":43000739158,"SEASONALS":43000745201,"BAR_CHARTS":43000672403,"CANDLES_CHARTS":43000745269,"HOLLOW_CANDLES_CHARTS":43000745270,"LINE_CHARTS":43000745271,"STEP_LINE_CHARTS":43000745272,"LINE_WITH_MARKERS_CHARTS":43000745273,"AREA_CHARTS":43000745274,"SESSION_VOLUME_PROFILE_CHARTS":43000745275,"TIME_PRICE_OPPORTUNITIES_CHARTS":43000725590,"BACKTESTING_BAR_MAGNIFIER":43000669285,"SOCIAL_NETWORK_HOUSE_RULES":43000591638,"QUICK_AND_EASY_GUIDE":43000718885,"HOW_TO_USE_FILTERS":43000718745,"CHART_VIEW_MODE":43000724233,"WATCHLIST_ALERTS_OTHER":43000739708,"WATCHLIST_ALERTS_HOW":43000653369,"WATCHLIST_ALERTS_CUSTOMIZE":43000662506,"PUBLISH_AN_IDEA":43000589083,"SUPERCHARTS":43000746464,"BASICS":43000746682,"TIME_INTERVALS":43000747934,"LAYOUTS":43000746975,"CONFIGURE":43000748166,"MASTERING":43000745825,"MULTI_TIMEFRAME_ANALYSIS":43000591555,"SET_UP_ALTERNATIVE_EMAIL_ADDRESS":43000474398,"DELETE_ACCOUNT":43000550534,"SIGNATURE_ON_POSTS":43000472770,"SCREENER_DEX":43000744465,"SCREENER_CEX":43000746110,"SCREENER_CRYPTO":43000718742,"SCREENER_BOND":43000743951,"SCREENER_ETF":43000718743,"SCREENER_STOCK":43000718866,"OPTIONS_BUILDER":43000707214,"NEWS_FLOW":43000728828,"HOW_TO_CONFIGURE_2FA":43000572460,"INTRADAY_RENKO_KAGI":43000758617,"DATA_ECONOMIC_CALENDAR":43000759911,"EARNINGS_CALENDAR":43000759912,"DIVIDEND_CALENDAR":43000759913,"TECHNICAL_ANALYSIS":43000759577,"FUNDAMENTAL_ANALYSIS":43000759574,"FINANCIAL_STATEMENTS_HOWTO":43000760059,"ONE_CLICK_TRADING":43000480920,"PROFIT_LOSS_TYPE_SELECTION":43000761181,"TIPS_FOR_SCRIPT_AUTHORS":43000549935,"UPDATE_PINE_SCRIPTS":43000530720,"EXPORT_STRATEGY_DATA":43000613680,"YIELD_CURVES":43000758123,"NEWS_ALERTS":43000762838,"POSITIONS_AND_ORDERS_ON_CHART":43000763362,"EXECUTIONS_MARKS_ON_CHART":43000763371,"PRICE_ALERTS":43000763313,"TECHNICAL_ALERTS":43000763315,"HISTORICAL_DATA":43000691889,"PINE_EDITOR":43000763320,"STRATEGY_PUBLISHING_RULES":43000764681,"ASSETS_YOU_CAN_ANALYZE":43000764889,"CHANGE_ACCOUNT_CURRENCY":43000480903,"SET_LEVERAGE":43000742699,"SCAN_STOCKS":43000669877,"MACRO_MAPS":43000764925,"OPTIONS_CHAIN":43000760837,"GREEKS":43000708137,"SECOND_BASED_INTERVALS":43000762068,"PAID_SPACE":43000765877,"PAID_SPACE_AUTHOR_RULES":43000765878,"EARNING_LOLLIPOP_FIELDS":43000629790,"EVERYTHING_YOU_WANT_TO_KNOW":43000581817}')
},470316:(e,t,r)=>{r.d(t,{Modifiers:()=>i.Modifiers,hashFromEvent:()=>i.hashFromEvent,humanReadableHash:()=>i.humanReadableHash,humanReadableModifiers:()=>i.humanReadableModifiers,isMacKeyboard:()=>i.isMacKeyboard,modifiersFromEvent:()=>i.modifiersFromEvent});var i=r(591800)},849204:(e,t,r)=>{r.d(t,{LogoSize:()=>i,getLogoUrlResolver:()=>l});var i,o=r(650151),n=r(588948);!function(e){e[e.Medium=0]="Medium",e[e.Large=1]="Large"}(i||(i={}));class s{constructor(e){(0,o.assert)(""!==e,"S3 base url must be a non-empty string"),this._baseUrl=e}getSymbolLogoUrl(e,t){switch((0,o.assert)(""!==e,"logo id must be a non-empty string"),t){case i.Medium:return this._baseUrl+`${e}.svg`;case i.Large:return this._baseUrl+`${e}--big.svg`}}collectSymbolLogoUrls(e,t){const{logoId:r,baseCurrencyLogoId:i,currencyLogoId:o,dexCurrencyLogoId:n}=e;if(r)return[this.getSymbolLogoUrl(r,t)];const s=[];if(i&&s.push(this.getSymbolLogoUrl(i,t)),n?s.push(this.getSymbolLogoUrl(n,t)):o&&s.push(this.getSymbolLogoUrl(o,t)),s.length<2)return s;const a=s.some(c),l=s.every((e=>!e.includes("country")||c(e)));return a&&l?s.filter((e=>!c(e))):s;function c(e){return e.includes("country/US")}}getCountryFlagUrl(e,t){return this.getSymbolLogoUrl("country/"+e,t)}getCryptoLogoUrl(e,t){return this.getSymbolLogoUrl("crypto/"+e,t)}getProviderLogoUrl(e,t){return this.getSymbolLogoUrl("provider/"+e,t)}getSourceLogoUrl(e,t){return this.getSymbolLogoUrl("source/"+e,t)}getBlockchainContractLogoUrl(e,t){return this.getSymbolLogoUrl("blockchain/"+e,t)}}let a;function l(){return function(){if(!a){const e=(0,n.getInitData)(),t=e.settings?e.settings.S3_LOGO_SERVICE_BASE_URL:"";a=new s(t)}return a}()}},776734:(e,t,r)=>{async function i(){if(!window.user||window.user.do_not_track)return null;{const e=(await Promise.all([r.e(73034),r.e(72423),r.e(24081)]).then(r.bind(r,823623))).getTrackerInstance();return e||null}}r.d(t,{getTracker:()=>i})},526225:(e,t,r)=>{r.d(t,{syncUserConversionData:()=>h,syncUserData:()=>u});var i=r(735566),o=r(345848),n=r(162127),s=r(954912),a=r(317400);const l=(0,i.getLogger)("User.Sync");function c(e){return`${e}_${window.user&&window.user.username||""}`}function d(e){const{source:t,isAuthenticated:r,proPlan:i,offers:s,fireLoginChange:a=!0}=e;i!==window.user.pro_plan&&(window.user.pro_plan=i,window.user.is_pro=Boolean(i),(0,o.trackEvent)("Sync User Data","Different Pro Plan",c(t))),r!==window.is_authenticated&&(window.is_authenticated=r,a&&window.loginStateChange.fire(),(0,o.trackEvent)("Sync User Data","Different Auth",c(t))),s&&n.availableOffers.setInitial(s)}async function u(e){try{d({source:e,isAuthenticated:!0,proPlan:(await(0,a.getProPlanDetailsForUser)()).pro_plan})}catch(t){!function(e,t){403===t.status&&["not_authenticated","login_required"].includes(t.type||"")?d({source:e,isAuthenticated:!1,proPlan:void 0}):l.logError(t.message)}(e,t)}}async function h(e,t=!0){const r=new URL("/pricing/",window.location.origin),i=new URLSearchParams(window.location.search);i.has("_test_country")&&r.searchParams.append("_test_country",i.get("_test_country")??""),
r.searchParams.append("component-data-only","1");const o=await(0,s.fetch)(r.href),n=await o.json();return d({source:e,isAuthenticated:n.is_authenticated,proPlan:n.user.pro_plan,fireLoginChange:t,offers:n.user.available_offers}),n}},626333:(e,t,r)=>{function i(e,t=window){const r="theme-"+e,i=t.document.documentElement.classList;for(const e of Array.from(i))e.startsWith("theme-")&&e!==r&&i.remove(e);i.add(r),t.document.documentElement.dataset.theme=e}r.d(t,{applyTheme:()=>i})},267858:(e,t,r)=>{r.d(t,{provider:()=>i});const i=r(787703)},424450:(e,t,r)=>{r.d(t,{themes:()=>a});var i=r(61499),o=r(444372),n=r(600467),s=r(790188);const a={[i.StdTheme.Light]:{name:i.StdTheme.Light,label:()=>o.t(null,{context:"colorThemeName"},r(696870)),order:2,getThemedColor:e=>(0,s.getHexColorByName)(e)},[i.StdTheme.Dark]:{name:i.StdTheme.Dark,label:()=>o.t(null,{context:"colorThemeName"},r(185119)),order:1,getThemedColor:e=>{const t=n[e]||e;return(0,s.getHexColorByName)(t)}}}},86746:(e,t,r)=>{r.r(t),r.d(t,{darkTheme:()=>c,getStdChartTheme:()=>_,getStdThemeNames:()=>h,lightTheme:()=>l,overrideStdTheme:()=>d,restoreStdThemes:()=>u,translateThemeName:()=>p});var i=r(444372),o=r(536794),n=r(753460),s=r(674131),a=r(61499);let l=(0,o.clone)(n.light),c=(0,o.clone)(s.dark);function d(e,t){switch(e){case a.StdTheme.Light:l=(0,o.merge)((0,o.clone)(l),t);break;case a.StdTheme.Dark:c=(0,o.merge)((0,o.clone)(c),t)}}function u(){l=(0,o.clone)(n.light),c=(0,o.clone)(s.dark)}function h(){return[a.StdTheme.Light,a.StdTheme.Dark]}function _(e){return(0,o.clone)(e===a.StdTheme.Light?l:e===a.StdTheme.Dark?c:void 0)}function p(e){return{[a.StdTheme.Light]:i.t(null,{context:"colorThemeName"},r(696870)),[a.StdTheme.Dark]:i.t(null,{context:"colorThemeName"},r(185119))}[e]||e}},61499:(e,t,r)=>{var i;r.d(t,{StdTheme:()=>i}),function(e){e.Light="light",e.Dark="dark"}(i||(i={}))},304986:(e,t,r)=>{r.d(t,{getThemeFromUserSettings:()=>n,saveThemeInUserSettings:()=>s});var i=r(62802),o=r(278855);function n(){return(0,o.getThemeFromCookie)()||(0,i.getValue)("current_theme.name")||null}function s(e){(0,o.setThemeToCookie)(e),(0,i.setValue)("current_theme.name",e,{forceFlush:!0})}},83871:(e,t,r)=>{r.d(t,{SYMBOL_LIST_SERVICE:()=>i});const i={id:"SymbolListService"}},224743:(e,t,r)=>{r.d(t,{globalCloseDelegate:()=>i,globalCloseMenu:()=>o});const i=new(r(251924).Delegate);function o(){i.fire()}},170898:(e,t,r)=>{r.d(t,{getQuoteSessionInstance:()=>a});var i=r(23123),o=r(698582),n=r(900608);const s={};function a(e="full"){return s[e]||function(e="full",t){s[e]=t}(e,new i.QuoteSessionMultiplexer({name:e,api:window.ChartApiInstance,fields:l[e],extensions:{formatter:e=>new c(e).formatter,snapshot:e=>new d(e).snapshot}})),s[e]}const l={
simple:["base-currency-logoid","ch","chp","currency-logoid","currency_code","currency_id","base_currency_id","current_session","description","exchange","format","fractional","is_tradable","language","local_description","listed_exchange","logoid","lp","lp_time","minmov","minmove2","original_name","pricescale","pro_name","short_name","type","typespecs","update_mode","volume","variable_tick_size","value_unit_id","unit_id","measure"]};l.simpleDetailed=[...l.simple,"ask","bid","fundamentals","high_price","is_tradable","low_price","open_price","prev_close_price","rch","rchp","rtc","rtc_time","status","basic_eps_net_income","beta_1_year","earnings_per_share_basic_ttm","industry","market_cap_basic","price_earnings_ttm","sector","volume","dividends_yield","timezone"],l.full=[],l.watchlist=[...l.simple,"rchp","rtc","country_code","provider_id","dividends_availability","financials_availability","earnings_availability"],l.portfolio=["pro_name","short_name","exchange","listed_exchange","description","local_description","language","sector","type","typespecs","industry","currency_code","currency_id","ch","chp","logoid","currency-logoid","base-currency-logoid","earnings_per_share_forecast_next_fq","earnings_release_next_date","earnings_release_date","earnings_per_share_fq","lp","fractional","minmov","minmove2","pricescale","volume","average_volume","market_cap_calc","market_cap_basic","total_revenue","earnings_per_share_basic_ttm","price_earnings_ttm","beta_1_year","dps_common_stock_prim_issue_fy","dividends_yield","fundamental_currency_code","rates_mc","rates_fy","rates_ttm","format","value_unit_id","unit_id","measure"],l.notes=["short_name","pro_name","logoid","currency-logoid","base-currency-logoid","symbol-primaryname","type","typespecs"],l.estimates=["fundamental_data","type","typespecs","earnings_per_share_forecast_next_symbol_currency_fq","earnings_release_next_aligned_date","earnings_release_next_calendar_date","earnings_release_next_date"],l.economic=["reference-last-period","lp","currency_code","value_unit_id","unit_id","measure"],l.options=["ask","bid","lp","volume"];class c{constructor(e){this._formatterValuesCache={},this._waitingForFormatters={},this.formatter=(e,t)=>{if(this._waitingForFormatters[e])return this._waitingForFormatters[e];function r(e){const r=t&&!e.fractional?1:e.minmov;return new o.PriceFormatter({priceScale:e.pricescale,minMove:r,fractional:e.fractional,minMove2:e.minmove2})}const i=new Promise(((t,i)=>{if(this._formatterValuesCache[e])t(r(this._formatterValuesCache[e]));else{const o=(0,n.guid)();this._multiplexer.subscribe(o,[e],(n=>{"error"===n.status&&(this._waitingForFormatters[e]=null,i("Quotes snapshot is not received")),function(e){return e&&null!=e.pricescale&&null!=e.minmov}(n.values)&&(this._waitingForFormatters[e]=null,this._formatterValuesCache[e]=n.values,t(r(n.values)),this._multiplexer.unsubscribe(o,e))}))}}));return this._waitingForFormatters[e]=i,i},this._multiplexer=e}}class d{constructor(e){this._snapshotValuesCache={},this._waitingForSnapshot={},this.snapshot=e=>{
if(this._waitingForSnapshot[e])return this._waitingForSnapshot[e];const t=new Promise(((t,r)=>{if(this._snapshotValuesCache[e])t(this._snapshotValuesCache[e]);else{const i=(0,n.guid)();this._multiplexer.subscribe(i,[e],(o=>{"error"===o.status&&(this._waitingForSnapshot[e]=null,r("Quotes snapshot is not received"));const n=o.values;n&&n.minmov&&n.pricescale&&n.description&&(this._waitingForSnapshot[e]=null,this._snapshotValuesCache[e]=n,t(n),this._multiplexer.unsubscribe(i,e))}))}}));return this._waitingForSnapshot[e]=t,t},this._multiplexer=e}}"undefined"!=typeof window&&(window.getQuoteSessionInstance=a)},169958:(e,t,r)=>{r.d(t,{CircularCacheBuffer:()=>n});var i=r(650151);function o(e){const{prevItem:t,nextItem:r}=e;null!==t&&(t.nextItem=r),null!==r&&(r.prevItem=t)}class n{constructor(e=0,t=1.3){this._cache=new Map,this._lastItem=null,this._firstItem=null,this._size=e,this._sizeLimited=e>0,this._capacityFactor=t}set(e,t){const r={key:e,value:t,prevItem:this._lastItem,nextItem:null};null!==this._lastItem&&(this._lastItem.nextItem=r);const i=this._cache.get(e);return void 0!==i&&(o(i),i===this._firstItem&&(this._firstItem=i.nextItem)),this._cache.set(e,r),this._lastItem=r,null===this._firstItem&&(this._firstItem=r),this._sizeLimited&&this._cache.size>this._size*this._capacityFactor&&this._removeExtraItems(),this}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);if(void 0===t)return t;if(t===this._firstItem&&(this._firstItem=t.nextItem??t),t!==this._lastItem){o(t);const e=(0,i.ensureNotNull)(this._lastItem);e.nextItem=t,t.prevItem=e,t.nextItem=null,this._lastItem=t}return t.value}clear(){this._cache.clear(),this._firstItem=null,this._lastItem=null}delete(e){const t=this._cache.get(e);return void 0!==t&&(o(t),t===this._lastItem&&(this._lastItem=t.prevItem),t===this._firstItem&&(this._firstItem=t.nextItem)),this._cache.delete(e)}*entries(){if(null!==this._firstItem)for(let e=this._firstItem;null!==e;e=e.nextItem)yield[e.key,e.value]}state(){const e=[];for(const[t,r]of this.entries())e.push([t,r]);return e}restoreState(e){for(const t of e)this.set(t[0],t[1])}_removeExtraItems(){const e=this._cache.size-this._size;let t=(0,i.ensureNotNull)(this._firstItem);for(let r=0;r<e;r+=1)this._cache.delete(t.key),t=(0,i.ensureNotNull)(t.nextItem);t.prevItem=null,this._firstItem=t}}},391897:(e,t,r)=>{r.d(t,{Action:()=>a,Loader:()=>c,Separator:()=>l});var i=r(650151),o=r(470316),n=r(900608),s=r(836815);class a{constructor(e){this.type="action",this._destroyed=!1,this._loadOptionsPromise=null,this._customAction=null;const{actionId:t,options:r,optionsLoader:o,customActionOptions:l,customActionOptionsLoader:c,id:d=n.guid(),onStartListening:u}=e;(0,i.assert)(void 0!==t,"actionId must be defined"),this.id=d,this._onUpdate=new s.ActionDelegate(u),this._options={actionId:t,...r},this.update(r),this._loadOptionsGetter=o??null,this._loadOptionsGetter&&(this._options.loading=!0),l&&(this._customAction=new a({actionId:t,options:l,optionsLoader:c,id:d}))}custom(){return this._customAction}execute(){
this._options.checkable&&this.update({checked:!this._options.checked}),this._options.onExecute&&this._options.onExecute(this)}getLabel(){return this._options.label||""}getSubItems(){return this._options.subItems||[]}isDisabled(){return!0===this._options.disabled}isActive(){return!0===this._options.active}isCheckable(){return!0===this._options.checkable}isChecked(){return!0===this._options.checked}isLoading(){return!0===this._options.loading}loadOptions(){return this._loadOptionsPromise?this._loadOptionsPromise:this._loadOptionsGetter?(this._loadOptionsPromise=this._loadOptionsGetter().then((e=>this.update({...e,loading:!1}))),this._loadOptionsPromise):null}getSize(){return this._options.size??"normal"}getPayload(){return this._options.payload}update(e){this._destroyed||(this._unbindShortcut(),e.hotkeyHash&&(this._options.shortcutHint=(0,o.humanReadableHash)(e.hotkeyHash)),this._options=Object.assign(this._options,e),this._bindShortcut(),this._onUpdate.fire(this))}onUpdate(){return this._onUpdate}getState(){return this.loadOptions(),{actionId:this._options.actionId,label:this.getLabel(),styledLabel:this._options.styledLabel,disabled:this.isDisabled(),active:this.isActive(),subItems:this.getSubItems(),checkable:this.isCheckable(),checked:this.isChecked(),loading:this.isLoading(),size:this.getSize(),doNotCloseOnClick:this._options.doNotCloseOnClick||!1,shortcutHint:this._options.shortcutHint,hint:this._options.hint,icon:this._options.icon,iconId:this._options.iconId,iconChecked:this._options.iconChecked,toolbox:this._options.toolbox,showToolboxOnHover:this._options.showToolboxOnHover||!1,statName:this._options.statName,name:this._options.name,invisibleHotkey:this._options.invisibleHotkey,noInteractive:this._options.noInteractive,jsxLabel:"jsxLabel"in this._options?this._options.jsxLabel:void 0,isRepeatAccepted:this._options.isRepeatAccepted}}destroy(){this._destroyed=!0,this._onUpdate.destroy(),this._unbindShortcut(),this._options.onDestroy?.(),this._customAction?.destroy()}options(){return this._options}_bindShortcut(){if(!this._options.hotkeyGroup||!this._options.hotkeyHash)return;const e="string"==typeof this._options.label?this._options.label:this._options.name;this._hotkeyAction=this._options.hotkeyGroup.add({hotkey:this._options.hotkeyHash,isRepeatAccepted:this._options.isRepeatAccepted,desc:e,handler:()=>this.execute(),isDisabled:()=>this.isDisabled()})}_unbindShortcut(){this._hotkeyAction&&(this._hotkeyAction.destroy(),delete this._hotkeyAction)}}class l{constructor(e){this.type="separator",this.id=n.guid(),this._hint=e}getHint(){return this._hint}}class c extends a{constructor(e){super({actionId:e,options:{}})}isLoading(){return!0}getSize(){return"big"}}},853768:(e,t,r)=>{r.d(t,{ContextMenuManager:()=>i});var i,o=r(615790),n=r(391897),s=r(224743);!function(e){let t=null,i=null;const a=[],l={createAction:e=>new n.Action({actionId:"Chart.CustomActionId",options:e}),createAsyncAction:e=>new n.Action({actionId:"Chart.CustomActionId",options:{},optionsLoader:e}),createSeparator:()=>new n.Separator}
;async function c(e,n={},s={menuName:""},c){null!==t&&(e=await t(e,l,s));let u=null;const h=()=>{const e=(0,o.indexOf)(a,(e=>e.renderer===u));-1!==e&&a.splice(e,1),void 0!==c&&c()};let _=!1;if(null!==i&&(u=await i(e,s,h)),u)_=!0,d();else{const t=await Promise.all([r.e(19966),r.e(27881),r.e(63225),r.e(79856),r.e(82757),r.e(47863),r.e(92496),r.e(56912),r.e(75953),r.e(50182),r.e(82321),r.e(91584)]).then(r.bind(r,258649));u=new t.ContextMenuRenderer(e,n,h,d)}return a.push({renderer:u,isExternal:_}),u}function d(){(0,s.globalCloseMenu)(),a.forEach((e=>{e.isExternal&&e.renderer.isShown()&&e.renderer.hide()}))}e.createMenu=c,e.showMenu=function(e,t,r={},i,o){return c(e,r,i,o).then((e=>e.show(t)))},e.setCustomRendererFactory=function(e){i=e},e.setCustomItemsProcessor=function(e){t=e},e.hideAll=d,e.getShown=function(){for(let e=0;e<a.length;e++)if(a[e].renderer.isShown())return a[e].renderer;return null}}(i||(i={}))},796377:(e,t,r)=>{var i;r.d(t,{CollectionViewMode:()=>i}),function(e){e.Multichart="multichart",e.ForceFullscreen="force-fullscreen"}(i||(i={}))},793750:(e,t,r)=>{r.d(t,{lastMouseOrTouchEventInfo:()=>o,setLastMouseOrTouchEventInfo:()=>n});let i=(0,r(638456).supportTouch)()?{isTouch:!0,stylus:!1}:{isTouch:!1};function o(){return i}function n(e){i=e.isTouch?{isTouch:!0,stylus:e.stylus}:{isTouch:!1}}},222874:(e,t,r)=>{r.d(t,{DataSource:()=>h,getTranslatedStringForSource:()=>d,toInputDisplayFlags:()=>u});var i=r(892323),o=r(797657),n=r(900608),s=r(251924),a=r(984958),l=r(77294),c=r(767405);function d(e,t){return new i.TranslatedString(t.name(),t.title(e))}function u(e){switch(e){case o.TitleDisplayTarget.DataWindow:return c.InputDisplayFlags.DataWindow;case o.TitleDisplayTarget.StatusLine:case o.TitleDisplayTarget.Alerts:return c.InputDisplayFlags.StatusLine}}class h{constructor(e){this.isSeries=!1,this._isDestroyed=!1,this._hasAlert=new l.WatchedValue(!1),this._alertStatus=new l.WatchedValue(0),this._alertCreationAvailable=new l.WatchedValue(a.alertsAvailable),this._zorder=0,this._priceScale=null,this._ownerSource=null,this._userEditEnabled=!0,this._priceScaleChanged=new s.Delegate,this._isSelectionEnabled=!0,this._instanceId=(0,n.randomHashN)(6),this._ownerSourceChanged=new s.Delegate,this._zOrderChanged=new s.Delegate,this._id=new l.WatchedValue(e??(0,n.randomHashN)(6)),a.alertsAvailable&&Promise.resolve().then((()=>{this._isDestroyed||this._hasAlert.subscribe(this._updateAlertCreationAvailable.bind(this),{callWithLast:!0})}))}destroy(){this._isDestroyed=!0}id(){return this._id.value()}idWV(){return this._id.readonly()}instanceId(){return this._instanceId}preferNoScale(){return!1}setId(e){this._id.setValue(e)}zorder(){return this._zorder}setZorder(e){"number"==typeof e&&this._zorder!==e&&(this._zorder=e,this._zOrderChanged.fire(e))}preferredZOrder(){return null}isSpeciallyZOrderedSource(){return!1}title(e){return this.name()}priceScale(){return this._priceScale}hasPriceScale(){return null!==this._priceScale}setPriceScale(e){this._priceScale!==e&&(this._priceScale=e,this._priceScaleChanged.fire(e))}
priceScaleChanged(){return this._priceScaleChanged}ownerSource(){return this._ownerSource}setOwnerSource(e){const t=this._ownerSource;this._ownerSource=e,this._ownerSourceChanged.fire(t,e)}ownerSourceChanged(){return this._ownerSourceChanged}zOrderChanged(){return this._zOrderChanged}isSavedInChart(e){return!0}isSavedInStudyTemplates(){return!0}isRemovedByStudyTemplates(){return!0}hasContextMenu(){return!0}showInObjectTree(){return!0}setUserEditEnabled(e){this._userEditEnabled=e}userEditEnabled(){return this._userEditEnabled}canBeHidden(){return this.userEditEnabled()}isUserDeletable(){return this.userEditEnabled()}properties(){return null}propertyByPath(e){const t=e.split(".");if(t.length<1)throw new Error("Invalid path");const r=t[0];if("properties"===r){const e=this.properties();return 1===t.length?e:e.childByPath(t.slice(1).join("."))}throw new Error(`Unknown property root: ${r}`)}isVisible(){return this.properties().visible.value()}dataWindowView(){return null}priceAxisViews(e,t){return null}timeAxisViews(){return null}updateAllViews(e){}paneViews(e){return null}labelPaneViews(e){return null}isFailed(){return!1}isLoading(){return!1}isPhantom(){return!1}isChildStudy(){return!1}hasChildren(){return!1}canHaveChildren(){return!1}onClickOutside(e,t){}getSourceIcon(){return null}state(e){return null}doesMovingAffectsUndo(){return!0}isMultiPaneAvailable(){return!1}isMultiPaneEnabled(){return!1}copiable(){return!1}cloneable(){return!1}movable(){return!1}allowsMovingBetweenPanes(){return!0}isIncludedInAutoScale(){return!1}isHoveredEnabled(){return this.isSelectionEnabled()}showOnTopOnHovering(){return!0}isSelectionEnabled(){return this._isSelectionEnabled}setSelectionEnabled(e){this._isSelectionEnabled=e}firstValue(){return null}priceRange(e,t,r){return null}autoScaleInfo(e,t,r){return{range:this.priceRange(e,t,r)}}stateForAlert(){return null}async stateForAlertAsync(){return this.stateForAlert()}canHasAlert(){return!1}canHasAlertOnLineTools(){return!1}hasAlert(){return this._hasAlert.readonly()}alertCreationAvailable(){return this._alertCreationAvailable.readonly()}hasStateForAlert(){return a.alertsAvailable}idForAlert(){return this._id.value()}alertStatus(){return this._alertStatus.readonly()}_getAlertCreationAvailable(){return a.alertsAvailable&&this.hasStateForAlert()}_updateAlertCreationAvailable(){a.alertsAvailable&&this._alertCreationAvailable.setValue(this._getAlertCreationAvailable())}}},381199:(e,t,r)=>{r.d(t,{LimitedPrecisionNumericFormatter:()=>o});var i=r(39485);class o{constructor(e,t){this._precision=e??1,this._numericFormatter=new i.NumericFormatter({precision:this._precision,ignoreLocaleNumberFormat:t})}format(e,t){const r=e.toFixed(this._precision),i=Math.pow(10,-this._precision);return this._numericFormatter.format(Math.max(parseFloat(r),i),t)}parse(e,t){const r=this._numericFormatter.parse(e,t);return r.res?{res:!0,value:r.value,suggest:this.format(r.value)}:r}}},277243:(e,t,r)=>{r.d(t,{getPriceValueFormatterForSource:()=>l,getPriceValueFormatterForStudy:()=>c,shouldBeFormattedAsIndexedTo100:()=>s,
shouldBeFormattedAsPercent:()=>n});var i=r(104779),o=r(27681);function n(e){const t=e.priceScale();return!(null===t||!t.isPercentage())&&(!(0,o.isActingAsSymbolSource)(e)||(0,i.isPriceSourceStyle)(e.style()))}function s(e){const t=e.priceScale();return!(null===t||!t.isIndexedTo100())&&(!(0,o.isActingAsSymbolSource)(e)||(0,i.isPriceSourceStyle)(e.style()))}function a(e){const t=e.priceScale();return s(e)&&null!==t?(r,i)=>t.formatPriceIndexedTo100(r,e.firstValue()??100,i):n(e)&&null!==t?(r,i)=>t.formatPricePercentage(r,e.firstValue()??100,i):null}function l(e){const t=a(e);if(t)return t;const r=e.formatter();return r.format.bind(r)}function c(e,t){const r=a(e);if(r)return r;const i=e.plotFormatter(t);return i.format.bind(i)}},772717:(e,t,r)=>{r.d(t,{isImageToolName:()=>u,isLineDrawnWithPressedButton:()=>l,isLineToolDrawWithoutPoints:()=>d,isLineToolFinishRequiredWhenCreatedByApi:()=>c,isLineToolName:()=>a,isMtpPredictorToolName:()=>n,isStudyLineToolName:()=>s,isTextToolName:()=>h})
;const i=new Set(["LineStudyMtpAnalysis","LineStudyMtpDecisionPoint","LineStudyMtpRiskReward","LineStudyMtpElliotWaveMain","LineStudyMtpElliotWaveMajor","LineStudyMtpElliotWaveMinor","LineStudyMtpDownWave1OrA","LineStudyMtpDownWave2OrB","LineStudyMtpDownWave3","LineStudyMtpDownWave4","LineStudyMtpDownWave5","LineStudyMtpDownWaveC","LineStudyMtpUpWave1OrA","LineStudyMtpUpWave2OrB","LineStudyMtpUpWave3","LineStudyMtpUpWave4","LineStudyMtpUpWave5","LineStudyMtpUpWaveC"]),o=new Set(["LineToolFibRetracement","LineToolFibChannel","LineToolFibSpeedResistanceArcs","LineToolProjection","LineToolTrendBasedFibExtension","LineToolElliott","LineToolFibCircles","LineToolVertLine","LineToolCrossLine","LineToolBarsPattern","LineToolTrendBasedFibTime","LineToolFibTimeZone","LineToolCircleLines","LineToolDateRange","LineToolPriceRange","LineToolDateAndPriceRange","LineToolParallelChannel","LineToolTrendAngle","LineToolTrendLine","LineToolInfoLine","LineToolArrowMark","LineToolPitchfan","LineToolGannSquare","LineToolFibSpeedResistanceFan","LineToolGannComplex","LineToolGannFixed","LineToolGannFan","LineToolFibWedge","LineToolPitchfork","LineToolDisjointAngle","LineToolFlatBottom","LineToolIcon","LineToolEmoji","LineToolSticker","LineToolRotatedRectangle","LineToolFibSpiral","LineToolHeadAndShoulders","LineToolTriangle","LineToolTrianglePattern","LineTool5PointsPattern","LineToolThreeDrivers","LineToolABCD","LineToolPolyline","LineToolPath","LineToolPrediction","LineToolPriceLabel","LineToolPriceNote","LineToolTextNote","LineToolNote","LineToolNoteAbsolute","LineToolArrowMarker","LineToolSignpost","LineToolBrush","LineToolArc","LineToolCallout","LineToolBalloon","LineToolComment","LineToolText","LineToolHorzLine","LineToolHorzRay","LineToolRectangle","LineToolCircle","LineToolEllipse","LineToolTimeCycles","LineToolSineLine","LineToolGhostFeed","LineToolBezierQuadro","LineToolBezierCubic","LineToolArrow","LineToolRay","LineToolExtended","LineToolSchiffPitchfork","LineToolSchiffPitchfork2","LineToolInsidePitchfork","LineToolTextAbsolute","LineToolArrowMarkLeft","LineToolArrowMarkRight","LineToolArrowMarkUp","LineToolArrowMarkDown","LineToolFlagMark","LineToolCypherPattern","LineToolElliottImpulse","LineToolElliottTriangle","LineToolElliottTripleCombo","LineToolElliottCorrection","LineToolElliottDoubleCombo","LineToolRiskRewardLong","LineToolRiskRewardShort","LineToolPosition","LineToolOrder","LineToolHighlighter","LineToolTable","LineToolImage"]);function n(e){return i.has(e)}function s(e){return"LineToolRegressionTrend"===e||"LineToolVbPFixed"===e||"LineToolFixedRangeVolumeProfile"===e||"LineToolAnchoredVolumeProfile"===e||"LineToolAnchoredVWAP"===e}function a(e){return o.has(e)||s(e)}function l(e){return"LineToolBrush"===e||"LineToolHighlighter"===e}function c(e){return l(e)||"LineToolPath"===e||"LineToolPolyline"===e||"LineToolGhostFeed"===e}function d(e){return"LineToolTweet"===e||"LineToolIdea"===e||"LineToolImage"===e}function u(e){return"LineToolImage"===e}function h(e){switch(e){case"LineToolBalloon":case"LineToolComment":
case"LineToolText":case"LineToolTextAbsolute":case"LineToolCallout":case"LineToolNote":case"LineToolNoteAbsolute":case"LineToolSignpost":return!0}return!1}o.add("LineToolTweet"),o.add("LineToolIdea")},753530:(e,t,r)=>{r.d(t,{BitmapCoordinatesPaneRenderer:()=>o});var i=r(871934);class o{draw(e,t){new i.CanvasRenderingTarget2D(e,t.mediaSize,t.bitmapSize).useBitmapCoordinateSpace((e=>this._drawImpl(e)))}drawBackground(e,t){new i.CanvasRenderingTarget2D(e,t.mediaSize,t.bitmapSize).useBitmapCoordinateSpace((e=>this._drawBackgroundImpl(e)))}_drawBackgroundImpl(e){}}},289417:(e,t,r)=>{r.d(t,{coordinateIsValid:()=>S,extendAndClipLineSegment:()=>d,fillScaledRadius:()=>C,getArrowPoints:()=>u,interactionTolerance:()=>m,optimalBarWidth:()=>h,optimalCandlestickWidth:()=>_,optimalHiLoWidth:()=>p,roundToMax:()=>g,setValidLineStyle:()=>f,strokeScaledRadius:()=>T});var i=r(536794),o=r(610555),n=r(648892),s=r(793750),a=r(850699);const l={common:13,line:13,tradingLine:16,minDistanceBetweenPoints:10,series:14,curve:10,anchor:13,esd:4},c={common:3,line:3,tradingLine:3,minDistanceBetweenPoints:5,series:2,curve:3,anchor:2,esd:0};function d(e,t,r,i,s,a){if((0,o.equalPoints)(e,t))return null;const l=new o.Point(0,0),c=new o.Point(r,i);if(s){if(a){const r=(0,n.intersectLineAndBox)((0,o.lineThroughPoints)(e,t),(0,o.box)(l,c));return Array.isArray(r)?r:null}{const r=(0,n.intersectRayAndBox)(t,e,(0,o.box)(l,c));return null===r||(0,o.equalPoints)(t,r)?null:(0,o.lineSegment)(t,r)}}if(a){const r=(0,n.intersectRayAndBox)(e,t,(0,o.box)(l,c));return null===r||(0,o.equalPoints)(e,r)?null:(0,o.lineSegment)(e,r)}{const r=(0,n.intersectLineSegmentAndBox)((0,o.lineSegment)(e,t),(0,o.box)(l,c));return Array.isArray(r)?r:null}}function u(e,t,r,i,o){const n=.5*r,s=Math.sqrt(2),a=t.subtract(e),l=a.normalized();let c=5*r;i&&(c=Math.min(c,.35*a.length()));const d=1*n;if(c*s*.2<=d)return[];const u=l.scaled(c),h=t.subtract(u),_=l.transposed(),p=1*c,m=_.scaled(p),S=h.add(m),f=h.subtract(m),C=S.subtract(t).normalized().scaled(d),T=f.subtract(t).normalized().scaled(d),g=o?t:t.add(C),b=o?t:t.add(T),y=n*(s-1),E=_.scaled(y),I=Math.min(c-1*n/s,n*s*1),v=l.scaled(I),A=t.subtract(E),P=t.add(E),L=t.subtract(v);return[[S,g],[b,f],[A,L.subtract(E)],[P,L.add(E)]]}function h(e,t){return t=t||1,Math.floor(.3*e*t)}function _(e,t){if(e>=2.5&&e<=4)return Math.floor(3*t);const r=1-.2*Math.atan(Math.max(4,e)-4)/(.5*Math.PI),i=Math.floor(e*r*t),o=Math.floor(e*t),n=Math.min(i,o);return Math.max(Math.floor(t),n)}function p(e){return.4*e}function m(){return(0,s.lastMouseOrTouchEventInfo)().isTouch?l:c}function S(e){return null!=e&&!(0,i.isNaN)(e)}function f(e,t){void 0!==t&&(0,a.setLineStyle)(e,t)}function C(e,t){const r=Math.max(1,Math.floor(t))%2?.5:0;return Math.round(e*t)+r}function T(e,t,r){const i=Math.max(1,Math.floor(t))%2?.5:0;return Math.round(e*t)+(i!==r%2?.5:0)}function g(e){return Math.max(Math.floor(e),1)}},700089:(e,t,r)=>{r.d(t,{HorizontalLineRenderer:()=>l});var i=r(578679),o=r(850699),n=r(289417),s=r(753530),a=r(436465);class l extends s.BitmapCoordinatesPaneRenderer{
constructor(){super(...arguments),this._data=null,this._hitTest=new i.HitTestResult(i.HitTarget.Regular)}setData(e){this._data=e}setHitTest(e){this._hitTest=e}hitTest(e){if(null===this._data||!1===this._data.visible||null===this._hitTest)return null;const t=(0,n.interactionTolerance)().line,r=Math.abs(e.y-this._data.y)<=t+this._data.linewidth/2,i=void 0===this._data.left||this._data.left-e.x<=t,o=void 0===this._data.right||e.x-this._data.right<=t;return r&&i&&o?this._hitTest:null}_drawImpl(e){if(null===this._data||!1===this._data.visible)return;const{context:t,horizontalPixelRatio:r,verticalPixelRatio:i,mediaSize:n}=e;if(this._data.y<-this._data.linewidth/2||this._data.y>n.height+this._data.linewidth/2)return;t.lineCap="butt",t.strokeStyle=this._data.color,t.lineWidth=Math.max(1,Math.floor(this._data.linewidth*r)),void 0!==this._data.linestyle&&(0,o.setLineStyle)(t,this._data.linestyle);const s=void 0!==this._data.left?Math.max(this._data.left,0):0,l=void 0!==this._data.right?Math.min(this._data.right,n.width):n.width,c=Math.round(this._data.y*i),d=Math.round(s*r),u=Math.round(l*r),h=this._data.excludeBoundaries;void 0!==h&&(0,a.addExclusionAreaByScope)(e,h),(0,o.drawHorizontalLine)(t,c,d,u)}}},832126:(e,t,r)=>{r.d(t,{PriceAxisViewRenderer:()=>p,hittestByData:()=>_});var i=r(610555),o=r(906453),n=r(793750),s=r(680574),a=r(578679),l=r(436465),c=r(125226),d=r(850699);const u=(0,c.isFeatureEnabled)("price_labels_selection"),h=new Path2D("M4.09.93c.4.16.75.4 1.02.73a5.47 5.47 0 0 0-3.78 3.27A2.5 2.5 0 0 1 3.2.77c.31 0 .61.06.89.16Zm8.24 3.35a2.5 2.5 0 0 0-3.27-3.23c-.38.16-.7.4-.97.7a5.47 5.47 0 0 1 3.56 3.5c.3-.26.53-.6.68-.97Zm-3.15-.84a4.5 4.5 0 1 0-5.5 7.12 4.5 4.5 0 0 0 5.5-7.12ZM6 4h1v4H4V7h2V4Z");function _(e,t){const r=(0,n.lastMouseOrTouchEventInfo)().isTouch?20:0,s=e.hitTestData;if(void 0===s||!e.visible)return null;const{itemBox:l,clickHandler:c,tooltip:d}=s;if(l){const n=(0,i.box)(new i.Point(l.min.x-r,l.min.y-r),new i.Point(l.max.x+r,l.max.y+r));if((0,o.pointInBox)(t,n))return new a.HitTestResult(e.hitTarget??a.HitTarget.Custom,{clickHandler:c?.bind(null,t),tapHandler:c?.bind(null,t),hoverModelFromAxis:s.hoverModelFromAxis,activeItem:s.activeItem,tooltip:d})}return null}class p{constructor(e,t){this._bodyBox=null,this.setData(e,t)}setData(e,t){this._data=e,this._commonData=t}lastDrawnBodyBox(){return this._bodyBox}draw(e,t,r,o,n){const a=this._data,{mediaSize:c,bitmapSize:h,horizontalPixelRatio:_,verticalPixelRatio:p}=t;if(!a.visible||this._isOutOfScreen(r,c.height))return;const m=this._commonData,S=void 0!==a.labelIcon,f=r.paddingTop+m.additionalPaddingTop,C=r.paddingBottom+m.additionalPaddingBottom,{paddingOuter:T,paddingInner:g,fontSize:b,borderSize:y}=r,E=a.ignoreAdditionalPaddingInner?0:r.additionalPaddingInner;let I=a.text,v=a.textColor||m.textColor,A=a.secondLine||"",P=m.secondLineTextColor||v,L=a.thirdLine||"";const w=m.thirdLineTextColor||v;0===A.length&&(A=L,P=w,L=""),0===I.length&&(I=A,v=P,A=L,P=w,L=""),e.save(),void 0!==m.globalAlpha&&(e.globalAlpha*=m.globalAlpha),e.font=r.font
;const R=o.yMidCorrection(e,I)*p,N=b+f+C,x=(a.labelIconMinWidth??0)*_,O=Boolean(A),D=Boolean(L),B=g+T+E,M=[Math.ceil(o.measureText(e,I)),O?Math.ceil(o.measureText(e,A)):0,D?Math.ceil(o.measureText(e,L)):0],U=Math.max(1,Math.floor(p));let k=Math.round(N*p);k%2!=U%2&&(k+=1);const F=Math.round((b+r.lineSpacing)*p),H=Math.round(2*(b+r.lineSpacing)*p),V=Math.max(1,Math.floor(y*_)),W=a.separatorVisible?V:0,G=a.borderVisible?V:0,j=S?Math.max(k,x):Math.round((Math.max(...M)+B)*_),q=Math.round(E*_),z=h.width,Y=Math.ceil(g*_),K=Math.round((m.fixedCoordinate??m.coordinate)*p)-Math.floor(.5*p),$=Math.floor(K+U/2-k/2),X=$+k,J="right"===n,Z=void 0!==a.xCoord?Math.round(a.xCoord*_)+(J?1:-1)*Math.round(j/2):J?z-W:W;let Q,ee=Z;const te=a.backgroung??m.background;e.fillStyle=te;const re=2*p;if(e.textAlign=J?"right":"left",e.textBaseline="middle",J?(ee=Z-j,Q=Z-q-Y+W):(ee=Z+j,Q=Z+q+Y-W),this._bodyBox=null,I||S){const r=D?k+H:O?k+F:k,o=m.borderColor??te,n=void 0!==a.xCoord?re:0;if(((t,o,s)=>{if(J){(0,d.drawRoundRectWithInnerBorder)(e,ee,$,j,r,t,a.overridenRadius?(0,d.scaleDrawRoundRectRadii)(a.overridenRadius,p):[re,n,n,re],G,o,s);const l=(0,i.point)(ee/_,$/p),c=l.add((0,i.point)(j/_,r/p));this._bodyBox=(0,i.box)(l,c)}else{(0,d.drawRoundRectWithInnerBorder)(e,Z,$,j,r,t,a.overridenRadius?(0,d.scaleDrawRoundRectRadii)(a.overridenRadius,p):[n,re,re,n],G,o,s);const l=(0,i.point)(Z/_,$/p),c=l.add((0,i.point)(j/_,r/p));this._bodyBox=(0,i.box)(l,c)}})(te,o,m.borderStyle),S){switch(a.labelIcon){case 0:this._drawPlusIcon(e,Z,ee,$,K,X,U);break;case 1:this._drawClockExistingAlertIcon(e,Z,ee,t,$,r)}return void e.restore()}e.save(),e.translate(Q,($+X)/2+R),(0,l.drawScaled)(e,_,p,(()=>{e.fillStyle=v,e.fillText(I,0,0)})),e.restore()}O&&(e.fillStyle=P,e.save(),e.translate(Q,($+X)/2+R+F),(0,l.drawScaled)(e,_,p,(()=>{e.fillText((0,s.startWithLTR)(A),0,0)})),e.restore()),D&&(e.fillStyle=w,e.save(),e.translate(Q,($+X)/2+R+H),(0,l.drawScaled)(e,_,p,(()=>{e.fillText((0,s.startWithLTR)(L),0,0)})),e.restore()),u&&a.selectedMarkColor&&this._drawSelectedMark(e,t,r,J),e.restore()}topBottomTotalHeight(e){const t=this._lines();if(!this._data.visible||0===t)return{top:0,bottom:0,total:0};const r=e.fontSize/2+e.paddingTop+this._commonData.additionalPaddingTop,i=(t-.5)*e.fontSize+(t-1)*e.lineSpacing+e.paddingBottom+this._commonData.additionalPaddingBottom;return{top:r,bottom:i,total:r+i}}hitTest(e){return _(this._data,e)}_drawSelectedMark(e,t,r,i){const o=this._data,{mediaSize:n,bitmapSize:s,horizontalPixelRatio:a,verticalPixelRatio:l}=t;if(!o.visible||this._isOutOfScreen(r,n.height))return;const c=this._commonData,u=s.width,h=o.backgroung??c.background,_=c.borderColor??h,p=Math.round(3*a),m=i?0:u-p,S=Math.round((this._bodyBox?.min.y??0)*l),f=Math.round((this._bodyBox?.max.y??0)*l)-S;e.save(),(0,d.drawRoundRect)(e,m,S,p,f,Math.ceil(p/2)),e.fillStyle=_,e.fill(),e.restore()}_drawPlusIcon(e,t,r,i,o,n,s){e.fillStyle=this._commonData.textColor,e.strokeStyle=this._commonData.textColor,e.lineWidth=s;const a=Math.abs(t-r);let l=Math.round(.35*a);l%2!=s%2&&(l+=1)
;let c=Math.round(.65*a);c%2!=s%2&&(c+=1);const d=Math.floor((a-l)/2),u=Math.min(t,r),h=u+Math.floor(a/2-s/2);e.fillRect(u+d,o,l,s),e.fillRect(h,i+d,s,l),e.beginPath(),e.arc(h+s/2,o+s/2,c/2,0,2*Math.PI,!1),e.stroke()}_drawClockExistingAlertIcon(e,t,r,i,o,n){e.fillStyle=this._commonData.textColor;const s=Math.abs(t-r),a=Math.min(t,r),{horizontalPixelRatio:l,verticalPixelRatio:c}=i,d=s/(23*l),u=s/(23*c),_=12*l*d,p=10.73*c*u,m=Math.floor((s-_)/2),S=Math.floor((n-p)/2)-1;e.save(),e.translate(a+m,o+S),e.scale(l*d,c*u),e.fill(h),e.restore()}_lines(){const e=this._data;return(e.text?1:0)+(e.secondLine?1:0)+(e.thirdLine?1:0)}_isOutOfScreen(e,t){const r=this._commonData,i=r.fixedCoordinate??r.coordinate,{total:o}=this.topBottomTotalHeight(e),n=o/this._lines();return i-n/2-3>t||i+(o-n/2)+3<0}}},572965:(e,t,r)=>{r.d(t,{PriceLineAxisRenderer:()=>s});var i=r(650151),o=r(981182),n=r(850699);class s{constructor(e,t){this.setData(e,t)}setData(e,t){this._data=e,this._commonData=t}draw(e,t,r,s,a){if(!this._data.visible)return;const{bitmapSize:l,verticalPixelRatio:c}=t,d=this._commonData.fixedCoordinate??this._commonData.coordinate;e.lineWidth=Math.max(1,Math.floor((0,i.ensureDefined)(this._data.linewidth)*c)),e.lineCap="butt",(0,n.setLineStyle)(e,void 0===this._data.linestyle?o.LINESTYLE_DOTTED:this._data.linestyle),e.strokeStyle=this._commonData.textColor,(0,n.drawHorizontalLine)(e,Math.round(d*c),0,l.width)}topBottomTotalHeight(e){return{top:0,bottom:0,total:0}}}},282312:(e,t,r)=>{var i=r(744404),o=r(345848).trackEvent,n=r(735566).getLogger("Pine.ScriptLib"),s=r(175203).telemetry,a={fast:["delete","get","is_auth_to_get","is_auth_to_write","parse_title","rename","lib_list"],medium:["list","eval_pine_ex","translate_light"],slow:["process_legacy","publish","save","translate","translate_source","gen_alert"]},l=/[l|L]ines? (\d*)/;function c(e){if("object"==typeof e.reason)return e.reason;if(e.reason2)return e.reason2;const t={errors:[],warnings:[]},r=e.result&&e.result.metaInfo;if(r&&void 0!==r.warnings&&r.warnings.forEach((e=>t.warnings.push({message:e}))),e.reason){(Array.isArray(e.reason)?e.reason:e.reason.split("\n")).forEach((e=>{const r=e.match(l),i=r&&r.length&&Number(r[1]),o={message:e};if("number"==typeof i){o.start={line:i,column:0};const e=o.message.split(": ");e.shift(),o.message=e.join(": ")}t.errors.push(o)}))}return t}var d={getPineFacadeUrl:function(){return window.PINE_URL},PINE_FACADE_URL:function(){return window.PINE_URL}};d.safetyGetReason=c,d._pineFacadeAjax=function(e,t,r){n.logNormal("Requesting pine facade scripts, url: "+t);var o=function(e){for(var t=Object.keys(a),r=0;r<t.length;r++){var i=a[t[r]].filter((function(t){return-1!==e.indexOf(t)}));if(Boolean(i.length))return t[r]}return!1}(t),l=Date.now();return i.ajax({url:d.PINE_FACADE_URL()+t,type:e,data:r||{},dataType:"json",xhrFields:{withCredentials:!0}}).done((function(){var e=Date.now()-l;s.sendReport("pine",o+"_group_time_frame",{value:e}),s.sendReport("pine",o+"_group_ok"),n.logNormal("Requesting pine facade scripts finished, url: "+t)
})).fail((function(){var e=Date.now()-l;s.sendReport("pine",o+"_group_time_frame",{value:e}),s.sendReport("pine",o+"_group_error"),n.logError("Requesting pine facade scripts failed, url: "+t)}))},d._generateAlertAsyncDone=function(e,t){if(t.error)e.reject(d._readableError(t.error));else if(t.success)e.resolve(t.result.metaInfo,t.result.IL,t.result.inputs||null,t.result.gen_alert_data||null);else{var r=t.result?t.result.metaInfo:null;e.reject(c(t),r)}},d._readableError=function(e,t){return t},d._anyRequestAsyncFail=function(e,t){try{const r=c(JSON.parse(t.responseText));if(r)return e.reject(r)}catch(e){}0===d.PINE_FACADE_URL().indexOf("http")&&n.logError(t.responseText),e.reject(d._readableError(t.status,t.statusText))},d.getPineSourceCode=function(e,t,r){o("Pine","ScriptLib.getPineSourceCode");var n=i.Deferred(),s="?no_4xx="+!!r,a="/get/"+encodeURIComponent(e)+"/"+t+s;return d._pineFacadeAjax("GET",a).done((function(e,t,r){!1===e.success?n.reject(c(e)):n.resolve(e)})).fail((function(e,t,r){d._anyRequestAsyncFail(n,e)})),n.promise()},d.generateAlert=function(e){o("Pine","ScriptLib.generateAlert");var t=i.Deferred(),r=window.user&&window.user.username,n="/gen_alert/?user_name="+encodeURIComponent(r),a={alert_info:e},l=Date.now();return d._pineFacadeAjax("POST",n,a).done((function(e,r,i){s.sendReport("alerts","compilation_ok"),d._generateAlertAsyncDone(t,e)})).fail((function(e,r,i){s.sendReport("alerts","compilation_error"),d._anyRequestAsyncFail(t,e)})).always((function(){var e=Date.now()-l;s.sendReport("alerts","compilation_time_frame",{value:e})})),t.promise()},d.scriptUpdater=function(){return window.scriptUpdater()},d.requestUserPublishedScripts=function(e,t){if(o("Pine","ScriptLib.requestUserPublishedScripts"),window.is_authenticated){if(t||!d._userPublishedScriptsDfd){d._userPublishedScriptsDfd=i.Deferred();var r=d._userPublishedScriptsDfd;d._pineFacadeAjax("GET","/list?filter=published").done((function(e,t,i){r.resolve(e)})).fail((function(e){d._anyRequestAsyncFail(r,e)}))}r=d._userPublishedScriptsDfd}else r=i.Deferred().resolve([]);return"function"==typeof e&&r.done(e),r.promise()},d.requestInfoForScripts=function(e){return Promise.all([d._pineFacadeAjax("GET","/list?filter=saved"),d._pineFacadeAjax("GET","/list?filter=standard"),d._pineFacadeAjax("GET","/list?filter=candlestick")]).then((function(t){return t.flat().filter((function(t){return e.includes(t.scriptIdPart)}))}))},d.requestBuiltinAndUserScripts=function(){o("Pine","ScriptLib.requestBuiltinAndUserScripts"),n.logNormal("Request built-in and user scripts");var e,t=window.user&&window.user.username,r={},i=new Promise((function(t,i){e=t,r.reject=i}));return Promise.all([d._pineFacadeAjax("GET","/list?filter=saved&user_name="+encodeURIComponent(t)),d._pineFacadeAjax("GET","/list?filter=standard")]).then((function(t){n.logNormal("Request built-in and user scripts finished");var r=t[0],i=t[1];e(r.concat(i))})).catch((function(e){n.logWarn("Request built-in and user scripts finished with fail"),d._anyRequestAsyncFail(r,e)})),i},
d.requestScriptInfo=function(e){o("Pine","ScriptLib.requestBuiltinAndUserScripts"),n.logNormal("Request public/user script info");var t=i.Deferred();return d._pineFacadeAjax("GET","/get_script_info/?pine_id="+encodeURIComponent(e)).done((function(e){n.logNormal("Request public/user script info finished"),t.resolve(e)})).fail((function(e){n.logWarn("Request public/user script info finished with fail"),d._anyRequestAsyncFail(t,e)})),t.promise()},d.requestCandlestickScripts=function(){var e;o("Pine","ScriptLib.requestCandlestickScripts"),n.logNormal("Request candlestick scripts");var t={},r=new Promise((function(r,i){e=r,t.reject=i}));return d._pineFacadeAjax("GET","/list?filter=candlestick").done((function(t){n.logNormal("Request candlestick scripts finished"),e(t)})).fail((function(e){n.logWarn("Request candlestick scripts finished with fail"),d._anyRequestAsyncFail(t,e)})),r};var u={time:-1/0,request:null};d.requestFundamentalScripts=function(){if(u.time+6e5>Date.now()&&null!==u.request)return n.logNormal("Return fundamentals from cache"),u.request;n.logNormal("Request fundamental scripts");var e=d._pineFacadeAjax("GET","/list?filter=fundamental");return e.then((function(e){n.logNormal("Request fundamental scripts finished")})),e.fail((function(e){n.logWarn("Request fundamental scripts finished with fail, resetting cache"),u.request=null})),u.time=Date.now(),u.request=Promise.resolve(e.promise()),u.request},d.publishNew=function(e,t,r,n){o("Pine","ScriptLib.publishNew");var s=i.Deferred(),a=window.user&&window.user.username,l="/publish/new/?access="+encodeURIComponent(t)+"&user_name="+encodeURIComponent(a),u={source:e,extra:JSON.stringify({originalScriptId:r,originalScriptVersion:n})};return d._pineFacadeAjax("POST",l,u).done((function(e,t,r){e.success?s.resolve(e):s.reject(c(e))})).fail((function(e,t,r){d._anyRequestAsyncFail(s,e)})),s.promise()},d.publishNext=function(e,t,r,s){n.logNormal("ScriptLib.publishNext","pine"),o("Pine","ScriptLib.publishNext");var a=i.Deferred(),l=window.user&&window.user.username,u="/publish/next/"+encodeURIComponent(t)+"?user_name="+encodeURIComponent(l),h={source:e,extra:JSON.stringify({originalScriptId:r,originalScriptVersion:s})};return d._pineFacadeAjax("POST",u,h).done((function(e,t,r){e.success||a.reject(c(e)),a.resolve(e)})).fail((function(e,t,r){d._anyRequestAsyncFail(a,e)})),a.promise()},d.lightTranslate=function(e,t){return n.logNormal("ScriptLib.lightTranslate","pine"),o("Pine","ScriptLib.lightTranslate"),new Promise((function(r,i){var o=window.user&&window.user.username,n=`/translate_light/?user_name=${encodeURIComponent(o)}`;t&&(n+=`&pine_id=${encodeURIComponent(t)}`);var s={source:e};d._pineFacadeAjax("POST",n,s).done((function(e,t,o){if(e.success)r(e.result);else{var n=e.result&&c(e.result)||c(e);i(n)}})).fail((function(e,t,r){d._anyRequestAsyncFail({reject:i},e)}))}))},d.getLibList=function(e,t,r){return n.logNormal("ScriptLib.getLibList","pine"),o("Pine","ScriptLib.getLibList"),new Promise((function(i,o){var n="/lib_list?lib_id_prefix="+encodeURIComponent(e)
;t&&(n+="&ignore_cache=true"),r&&(n+="&ignore_case=true"),d._pineFacadeAjax("GET",n).done((function(e,t,r){i(e)})).fail((function(e,t,r){d._anyRequestAsyncFail({reject:o},e)}))}))},d.getExistingLibraryInfo=async function(e){try{const t=await d.getLibList(e+"/last",!0,!0);if(!t.length)return null;const r=t[0];return{scriptIdPart:r.scriptIdPart,chartId:r.chartId,version:r.version}}catch(e){return null}},e.exports=d},333298:(e,t,r)=>{r.d(t,{SeriesBarColorer:()=>p});var i=r(790188),o=r(650151),n=r(732218),s=r(498374),a=r(633407);const l=(0,i.getHexColorByName)("color-minty-green-500"),c=(0,i.getHexColorByName)("color-ripe-red-500");function d(e){return{barColor:e.upColor.value(),barBorderColor:e.borderUpColor?e.borderUpColor.value():e.borderColor.value()}}function u(e){return{barColor:e.downColor.value(),barBorderColor:e.borderDownColor?e.borderDownColor.value():e.borderColor.value()}}function h(e,t){return e.borderUpColorProjection&&e.borderUpColor?{barColor:t?e.upColorProjection.value():e.upColor.value(),barBorderColor:t?e.borderUpColorProjection.value():e.borderUpColor.value()}:{barColor:t?e.upColorProjection.value():e.upColor.value()}}function _(e,t){return e.borderDownColorProjection&&e.borderDownColor?{barColor:t?e.downColorProjection.value():e.downColor.value(),barBorderColor:t?e.borderDownColorProjection.value():e.borderDownColor.value()}:{barColor:t?e.downColorProjection.value():e.downColor.value()}}class p extends a.AbstractBarColorer{constructor(e){super(),this._series=e}applyBarStyle(e,t,r,i){const o=r;o.barColor=void 0,o.barBorderColor=void 0,o.barWickColor=void 0,o.isBarHollow=void 0,o.isBarUp=void 0,o.upColor=void 0,o.downColor=void 0,o.isTwoColorBar=void 0,o.isMergedBar=void 0;const n=this._series.properties();switch(n.childs().style.value()){case 2:case 14:case 15:this._applyLineStyle(e,t,r,i,n);break;case 18:this._applyLineStyle(e,t,r,i,n,!0);break;case 3:this._applyAreaStyle(r,n);break;case 16:this._applyHLCAreaStyle(e,t,r,i,n);break;case 0:this._applyBarStyle(e,r,i,n);break;case 17:case 1:case 19:this._applyCandleStyle(e,r,i,n);break;case 9:this._applyHollowCandleStyle(e,r,i,n);break;case 8:this._applyHAStyle(e,t,r,i,n);break;case 10:this._applyBaseLineStyle(e,t,r,i,n);break;case 12:this._applyHiLoStyle(t,r,n);break;case 13:this._applyColumnStyle(e,r,i,n);break;case 4:this._applyRenkoStyle(e,t,r,i,n);break;case 7:this._applyPBStyle(e,t,r,i,n);break;case 5:this._applyKagiStyle(e,t,r,i,n);break;case 6:this._applyPnfStyle(e,t,r,i,n);break;case 11:this._applyRangeStyle(e,t,r,i,n);break;case 20:this._applySVPStyle(e,r,i,n);break;case 21:this._applyHLCBarsStyle(e,r,i,n)}return r}static upColor(e,t){const r=e.childs(),i=r.style.value();switch(i){case 18:return{barColor:r.tpoStyle.childs().color.value()};case 20:return{barColor:r.svpStyle.childs().volumeProfile.childs().volumeColorUp.value()};case 2:return{barColor:r.lineStyle.childs().color.value()};case 14:return{barColor:r.lineWithMarkersStyle.childs().color.value()};case 15:return{barColor:r.steplineStyle.childs().color.value()};case 3:return{
barColor:r.areaStyle.childs().linecolor.value()};case 16:return{barColor:r.hlcAreaStyle.childs().closeLineColor.value(),barBorderColor:l};case 0:return{barColor:r.barStyle.childs().upColor.value()};case 17:return d(r.volFootprintStyle.childs());case 19:return d(r.volCandlesStyle.childs());case 1:return d(r.candleStyle.childs());case 9:return d(r.hollowCandleStyle.childs());case 8:return d(r.haStyle.childs());case 10:return{barColor:r.baselineStyle.childs().topLineColor.value()};case 12:return{barColor:r.hiloStyle.childs().color.value(),barBorderColor:e.childs().hiloStyle.childs().borderColor.value()};case 13:return{barColor:r.columnStyle.childs().upColor.value()};case 4:return h(r.renkoStyle.childs(),t);case 7:return h(r.pbStyle.childs(),t);case 5:return h(r.kagiStyle.childs(),t);case 6:return h(r.pnfStyle.childs(),t);case 11:0;const i=r.rangeStyle.childs(),o=i.barStyle.value()===n.RangeBarStyle.Bars;return{barColor:t?i.upColorProjection.value():o?i.upColor.value():i.candlesUpColor.value(),barBorderColor:t?i.upColorProjection.value():o?i.upColor.value():i.candlesBorderUpColor.value()};case 21:return{barColor:r.hlcBarsStyle.childs().color.value()}}(0,o.ensureNever)(i)}static downColor(e,t){const r=e.childs(),i=r.style.value();switch(i){case 2:return{barColor:r.lineStyle.childs().color.value()};case 18:return{barColor:r.tpoStyle.childs().color.value()};case 20:return{barColor:r.svpStyle.childs().volumeProfile.childs().volumeColorUp.value()};case 14:return{barColor:r.lineWithMarkersStyle.childs().color.value()};case 15:return{barColor:r.steplineStyle.childs().color.value()};case 3:return{barColor:r.areaStyle.childs().linecolor.value()};case 16:return{barColor:r.hlcAreaStyle.childs().closeLineColor.value(),barBorderColor:c};case 0:return{barColor:r.barStyle.childs().downColor.value()};case 17:return u(r.volFootprintStyle.childs());case 1:return u(r.candleStyle.childs());case 19:return u(r.volCandlesStyle.childs());case 9:return u(r.hollowCandleStyle.childs());case 8:return u(r.haStyle.childs());case 10:return{barColor:r.baselineStyle.childs().bottomLineColor.value()};case 12:return{barColor:r.hiloStyle.childs().color.value(),barBorderColor:e.childs().hiloStyle.childs().borderColor.value()};case 13:return{barColor:r.columnStyle.childs().downColor.value()};case 4:return _(r.renkoStyle.childs(),t);case 7:return _(r.pbStyle.childs(),t);case 5:return _(r.kagiStyle.childs(),t);case 6:return _(r.pnfStyle.childs(),t);case 11:0;const i=r.rangeStyle.childs(),o=i.barStyle.value()===n.RangeBarStyle.Bars;return{barColor:t?i.downColorProjection.value():o?i.downColor.value():i.candlesDownColor.value(),barBorderColor:t?i.downColorProjection.value():o?i.downColor.value():i.candlesBorderDownColor.value()};case 21:return{barColor:r.hlcBarsStyle.childs().color.value()}}(0,o.ensureNever)(i)}_applyLineStyle(e,t,r,i,n,s){if(r.barColor=p.upColor(n).barColor,s)return;const a=this._findBar(e,t,i),l=this._series.barFunction()(a),c=this._series.priceScale(),d=this._series.firstValue();if(null==l||c.isEmpty()||null==d)return
;const u=c.priceToCoordinate(l,d);r.barColor=(0,o.ensureNotNull)(this._series.lineColorAtYPercentFromTop(u/c.height()))}_applyAreaStyle(e,t){e.barColor=p.upColor(t).barColor}_applyHLCAreaStyle(e,t,r,i,o){const n=this._isUp(e,!1,i,this._series.data().first()?.index!==e)?p.upColor(o,t):p.downColor(o,t);r.barColor=n.barColor,r.barBorderColor=n.barBorderColor}_applyBarStyle(e,t,r,i){const o=this._isUp(e,!1,r,i.childs().barStyle.childs().barColorsOnPrevClose.value())?p.upColor(i):p.downColor(i);t.barColor=o.barColor,t.barBorderColor=o.barBorderColor}_applyCandleStyle(e,t,r,i){const o=i.childs(),n=1===o.style.value()?o.candleStyle.childs():19===o.style.value()?o.volCandlesStyle.childs():o.volFootprintStyle.childs(),s=this._isUp(e,!1,r,n.barColorsOnPrevClose.value()&&this._series.data().first()?.index!==e),a=s?p.upColor(i):p.downColor(i);t.barColor=a.barColor,t.barBorderColor=a.barBorderColor,t.barWickColor=s?n.wickUpColor?n.wickUpColor.value():n.wickColor.value():n.wickDownColor?n.wickDownColor.value():n.wickColor.value()}_applyHollowCandleStyle(e,t,r,i){const o=i.childs().hollowCandleStyle.childs(),n=this._isUp(e,!1,r,this._series.data().first()?.index!==e),s=n?p.upColor(i):p.downColor(i);t.barColor=s.barColor,t.barBorderColor=s.barBorderColor,t.barWickColor=n?o.wickUpColor?o.wickUpColor.value():o.wickColor.value():o.wickDownColor?o.wickDownColor.value():o.wickColor.value();const a=this._findBar(e,!1,r);t.isBarHollow=a[1]<=a[4]}_applyHAStyle(e,t,r,i,o){const n=o.childs().haStyle.childs(),s=this._isUp(e,t,i,n.barColorsOnPrevClose.value()),a=s?p.upColor(o):p.downColor(o);r.barColor=a.barColor,r.barBorderColor=a.barBorderColor,r.barWickColor=s?n.wickUpColor.value():n.wickDownColor.value()}_applyBaseLineStyle(e,t,r,i,n){const s=this._findBar(e,t,i),a=n.childs().baselineStyle.childs(),l=this._series.priceScale(),c=Math.round(l.height()*(Math.abs(100-a.baseLevelPercentage.value())/100)),d=(0,o.ensureNotNull)(this._series.firstValue()),u=l.coordinateToPrice(c,d);s[4]>u?r.barColor=p.upColor(n,t).barColor:r.barColor=p.downColor(n,t).barColor}_applyHiLoStyle(e,t,r){const i=p.upColor(r,e);t.barColor=i.barColor,t.barBorderColor=i.barBorderColor}_applyColumnStyle(e,t,r,i){const o=i.childs().columnStyle.childs(),n=this._isUp(e,!1,r,o.barColorsOnPrevClose.value())?p.upColor(i):p.downColor(i);t.color=n.barColor,t.barColor=t.color}_applyRenkoStyle(e,t,r,i,o){const n=o.childs().renkoStyle.childs(),s=this._isUp(e,t,i,!1),a=s?p.upColor(o,t):p.downColor(o,t);r.barColor=a.barColor,r.barBorderColor=a.barBorderColor,r.barWickColor=s?n.wickUpColor.value():n.wickDownColor.value(),r.isBarUp=s}_applyPBStyle(e,t,r,i,o){const n=this._isUp(e,t,i,!1),s=n?p.upColor(o,t):p.downColor(o,t);r.barColor=s.barColor,r.barBorderColor=s.barBorderColor,r.isBarUp=n}_applyKagiStyle(e,t,r,i,o){let n;r.upColor=p.upColor(o,t).barColor,r.downColor=p.downColor(o,t).barColor;const s=this._findBar(e,t,i);s[3]<s[6]&&s[6]<s[2]?(n=s[1]<=s[4],r.isTwoColorBar=!0):(n=s[1]<=s[4]?s[1]===s[6]:s[1]!==s[6],r.isTwoColorBar=!1),r.barColor=n?r.upColor:r.downColor,r.isBarUp=s[1]<=s[4]}
_applyPnfStyle(e,t,r,i,o){const n=this._findBar(e,t,i)[6],s=n>0,a=p.upColor(o,t),l=p.downColor(o,t);r.isBarUp=s,r.isMergedBar=2===Math.abs(n),r.upColor=a.barColor,r.downColor=l.barColor,r.barColor=s?a.barColor:l.barColor}_applyRangeStyle(e,t,r,i,o){const s=o.childs().rangeStyle.childs(),a=s.barStyle.value()===n.RangeBarStyle.Bars,l=this._isUp(e,!1,i,!1),c=l?p.upColor(o,t):p.downColor(o,t),d=l?t?s.upColorProjection.value():a?void 0:s.candlesWickUpColor.value():t?s.downColorProjection.value():a?void 0:s.candlesWickDownColor.value();r.barColor=c.barColor,r.barBorderColor=c.barBorderColor,r.wickColor=d,r.barWickColor=d}_applySVPStyle(e,t,r,i){const o=this._isUp(e,!1,r,!1)?p.upColor(i,!1):p.downColor(i,!1);t.barColor=o.barColor,t.barBorderColor=o.barBorderColor}_applyHLCBarsStyle(e,t,r,i){t.barColor=i.childs().hlcBarsStyle.childs().color.value()}_findBar(e,t,r){return r?r.value:this._getSeriesBars(t).valueAt(e)||[]}_findPrevBar(e,t,r){if(r&&r.previousValue)return r.previousValue;const i=this._series.bars().search(e-1,s.PlotRowSearchMode.NearestLeft,4);return null!==i?i.value:[]}_getSeriesBars(e){return e?this._series.nsBars():this._series.bars()}_isUp(e,t,r,i){const o=this._findBar(e,t,r);if(i){return this._findPrevBar(e,t,r)[4]<=o[4]}return o[1]<=o[4]}}},91639:(e,t,r)=>{r.d(t,{SeriesDataSource:()=>b,initialRequestOptionsToNumBars:()=>T,parseJapaneseProjectionBars:()=>y});var i=r(650151),o=r(536794),n=r(129303),s=r(666310),a=r(888365),l=r(292045),c=r(847977),d=r(670229),u=r(735566),h=r(442050),_=r(235814);const p=(0,u.getLogger)("Chart.SeriesDataSource");var m;!function(e){e[e.Idle=0]="Idle",e[e.AwaitingConnection=1]="AwaitingConnection",e[e.AwaitingFirstDataUpdate=2]="AwaitingFirstDataUpdate",e[e.Active=3]="Active"}(m||(m={}));let S=1;let f=1;const C=300;function T(e){return e.startDate?e.endDate||e.count?e.endDate?["from_to",e.startDate,e.endDate]:["bar_count",e.startDate,(0,i.ensure)(e.count)]:["from_to",e.startDate]:e.count||C}function g(e){return(0,n.extractExtendedSymbol)(e).symbol}class b{constructor(e,t,r,i){this._extSymbol=null,this._lastResolvedSymbol="",this._createSeriesOverriddenParams=0,this._instanceId=null,this._symbolInstanceId=null,this._resolution=null,this._timeFrame=null,this._data=new a.SeriesData,this._dataEvents=new d.SeriesDataEvents,this._status=m.Idle,this._turnaroundCounter=1,this._boundOnGatewayIsConnectedChanged=this._onGatewayIsConnectedChanged.bind(this),this._ongoingDataUpdate=Promise.resolve(),this._gateway=e,this._turnaroundPrefix=t,this._createSeriesParams=T(r??{count:C}),this._timeFrame=i||null,this._gateway.isConnected().subscribe(this._boundOnGatewayIsConnectedChanged)}destroy(){this.stop(),this._gateway.isConnected().unsubscribe(this._boundOnGatewayIsConnectedChanged),this._dataEvents.destroy()}canModifySeries(e,t){const r=!(0,o.deepEquals)(this._extSymbol,e)[0],i=null===this._resolution||!s.Interval.isEqual(this._resolution,t);return r||i}modifySeries(e,t,r=null,a=!1,l=null){a&&(p.logNormal("Due to force flag clearing symbol & resolution to force re-requesting data."),
this._extSymbol=null,this._resolution=null);const c=g(e),d=!this.symbolSameAsResolved(c);if(d&&(this._lastResolvedSymbol=""),this._extSymbol&&!d){const t=g(this._extSymbol);(0,n.replaceExtendedSymbol)(e,t)}const u=this._extSymbol,h=this._resolution;if(this._extSymbol=e,this._resolution=t,null===this._instanceId)return void(this._timeFrame=r);const _=!(0,o.deepEquals)(u,e)[0];_&&(0,n.replaceExtendedSymbol)(this._extSymbol,c);const m=null===h||!s.Interval.isEqual(h,t);(_||m||null!==r)&&(this._timeFrame=null,(_||m)&&this._turnaroundCounter++,_&&this._resolveSymbol(),this._gateway.modifySeries(this._instanceId,this.turnaround(),(0,i.ensureNotNull)(this._symbolInstanceId),this._resolution,l,r,this._onMessage.bind(this)),this._dataEvents.fireModified())}requestMoreData(e){null!==this._instanceId&&this._gateway.requestMoreData(this._instanceId,e,this._onMessage.bind(this))}requestMoreTickmarks(e){null!==this._instanceId&&this._gateway.requestMoreTickmarks(this._instanceId,e,this._onMessage.bind(this))}setFutureTickmarksMode(e){null!==this._instanceId&&this._gateway.setFutureTickmarksMode(e)}isStarted(){return this._status!==m.Idle}isActive(){return this._status===m.Active}resolution(){return this._resolution}start(){this.isStarted()?p.logNormal("start: data source is already started, nothing to do"):((0,i.assert)(null!==this._extSymbol,"symbol must be set before start"),(0,i.assert)(null!==this._resolution,"resolution must be set before start"),this._gateway.isConnected().value()?this._createSeries():this._changeStatusTo(m.AwaitingConnection))}stop(){this.isStarted()?(null!==this._instanceId&&(this._gateway.removeSeries(this._instanceId),this._instanceId=null),this._symbolInstanceId=null,this._changeStatusTo(m.Idle)):p.logNormal("stop: data source is already stopped, nothing to do")}instanceId(){return this._instanceId}data(){return this._data}setData(e){this._data=e}setTimeframe(e){this._timeFrame=e}clearData(){this.isStarted()?this._enqueueUpdate((()=>this._clearDataImpl())):this._clearDataImpl()}dataEvents(){return this._dataEvents}turnaround(){return`${this._turnaroundPrefix}${this._turnaroundCounter}`}symbolInstanceId(){return this._symbolInstanceId}symbol(){return this._extSymbol}updateExtSymbol(e){this._extSymbol=e}moveData(e){return this._enqueueUpdate((()=>this._data.moveData(e)))}setInitialRequestOptions(e){this._createSeriesOverriddenParams=T(e)}symbolSameAsResolved(e){return null!==this._extSymbol&&(0,_.symbolSameAsResolved)(e,g(this._extSymbol),this._lastResolvedSymbol)}resolvedSymbol(){return null===this._extSymbol?null:g(this._extSymbol)}_resolveSymbol(){null!==this._extSymbol&&(this._symbolInstanceId=this._gateway.resolveSymbol("sds_sym_"+S++,(0,n.encodeExtendedSymbolOrGetSimpleSymbolString)(this._extSymbol),this._onMessage.bind(this)))}_clearDataImpl(){this._data.clear(),this._dataEvents.fireCleared()}_changeStatusTo(e){(0,i.assert)(this._status!==e,"Source and destination status should be distinct"),p.logNormal(`Status changed from ${m[this._status]} to ${m[e]}`),this._status=e}_createSeries(){(0,
i.assert)(this._status!==m.Active,'Status should not be "Active" when creating a study'),this._instanceId="sds_"+f++,this._resolveSymbol();const e=this._createSeriesOverriddenParams||this._createSeriesParams;this._createSeriesOverriddenParams&&(this._createSeriesOverriddenParams=0),this._gateway.createSeries(this._instanceId,this.turnaround(),(0,i.ensureNotNull)(this._symbolInstanceId),(0,i.ensureNotNull)(this._resolution),e,this._timeFrame,this._onMessage.bind(this)),this._timeFrame=null,this._changeStatusTo(m.AwaitingFirstDataUpdate),this._dataEvents.fireCreated(this._instanceId)}_onGatewayIsConnectedChanged(e){e?this._onGatewayConnected():this._onGatewayDisconnected()}_onGatewayConnected(){this._status===m.AwaitingConnection&&this._createSeries()}_onGatewayDisconnected(){this._status!==m.Idle&&this._status!==m.AwaitingConnection&&(this._instanceId=null,this._changeStatusTo(m.AwaitingConnection)),this._turnaroundCounter=1}_onMessage(e){this._enqueueUpdate((()=>this._onMessageImpl(e)))}async _onMessageImpl(e){switch(e.method){case"symbol_resolved":{const[t,r]=e.params;if(t!==this._symbolInstanceId){null!==this._symbolInstanceId&&p.logNormal(`Resolve for old symbol, expected: ${this._symbolInstanceId}, actual ${e.params[0]}`);break}this._onSymbolResolved(r);break}case"symbol_error":if(e.params[0]!==this._symbolInstanceId){null!==this._symbolInstanceId&&p.logNormal(`Symbol error for old symbol, expected: ${this._symbolInstanceId}, actual ${e.params[0]}`);break}this._onSymbolError(e);break;case"series_timeframe":{const[t,r,i,o,n,s,a]=e.params;if(!this._checkTurnaround(t,r)){p.logNormal(`Time frame for old data, expected: ${this._symbolInstanceId} (${this.turnaround()}), actual ${t} (${r})`);break}this._onSeriesTimeFrame(i,o,n,s,a);break}case"series_error":{const[t,r]=e.params;if(!this._checkTurnaround(t,r)){p.logNormal(`Series error for old data, expected: ${this._symbolInstanceId} (${this.turnaround()}), actual ${t} (${r})`);break}this._onSeriesError(e.params[2]);break}case"series_loading":{const[t,r]=e.params;if(!this._checkTurnaround(t,r))break;this._onSeriesLoading(e.time);break}case"series_completed":{const[t,r,i,o]=e.params;if(!this._checkTurnaround(t,i)){p.logNormal(`Series completed for old data, expected: ${this._symbolInstanceId} (${this.turnaround()}), actual ${t} (${i})`);break}this._onSeriesCompleted(r,e.time,o);break}case"data_update":if(!this._checkTurnaround(e.params.customId,e.params.turnaround)){p.logNormal(`Data update for old data, expected: ${this._symbolInstanceId} (${this.turnaround()}), actual ${e.params.customId} (${e.params.turnaround})`);break}await this._onDataUpdate(e.params.plots,e.params.nonseries,e.params.lastBar);break;case"clear_data":{if(e.params.turnaround!==this.turnaround()){p.logNormal(`Clear data for old data, expected: ${this.turnaround()}, actual ${e.params.turnaround}`);break}const t=this._data.first();this._clearDataImpl(),this._dataEvents.fireDataUpdated(void 0,!1,null,!1,t);break}}}_onSeriesError(e){let t,r;if("string"==typeof e)r={error:e},t=e;else if(r=e,e.ctx){const r={}
;Object.entries(e.ctx).forEach((([e,t])=>{r[e]=t.toString()})),t=e.error.format(r)}else t=e.error;if(t.startsWith("study_not_auth:")){const e=t.split(":",2)[1].split("@",2)[0];if(["BarSetRenko","BarSetPriceBreak","BarSetKagi","BarSetPnF"].includes(e))this._dataEvents.fireChartTypeNotPermitted(e);else{if("BarSetSpread"===e)return void this._dataEvents.fireIntradaySpreadNotPermitted();if("BarSetRange"===e){const e=`${(0,i.ensureNotNull)(this._extSymbol).inputs.range}R`;this._dataEvents.fireCustomIntervalNotPermitted(e)}}}else{if(t.startsWith("unsupported"))return void this._dataEvents.fireUnsupportedResolutionRequested();"resolution_not_entitled"===t?this._dataEvents.fireIntradayExchangeNotPermitted():"custom_resolution"===t?this._dataEvents.fireCustomIntervalNotPermitted((0,i.ensureNotNull)(this._resolution)):"seconds_not_entitled"===t?this._dataEvents.fireSecondsIntervalNotPermitted():"ticks_not_entitled"===t&&this._dataEvents.fireTicksIntervalNotPermitted()}this._dataEvents.fireSeriesError(r)}_onSeriesTimeFrame(e,t,r,i,o){this._dataEvents.fireSeriesTimeFrame(e,t,r,i??!0,o)}_onSymbolError(e){if(e.params[1]===c.permissionDenied)switch(e.params[2]){case c.SymbolErrorPermissionDeniedReason.Symbol:this._dataEvents.fireSymbolNotPermitted(e.params[3]);break;case c.SymbolErrorPermissionDeniedReason.GroupPermission:this._dataEvents.fireSymbolGroupNotPermitted(e.params[3]);break;default:this._dataEvents.fireSymbolNotPermitted(e.params[2])}else e.params[1]===c.invalidSymbol&&this._dataEvents.fireSymbolInvalid();this._dataEvents.fireSymbolError(e.params[1])}_onSymbolResolved(e){this._lastResolvedSymbol=(0,i.ensureNotNull)((0,h.extractSymbolNameFromSymbolInfo)(e,"")),this._dataEvents.fireSymbolResolved(e)}async _onDataUpdate(e,t,r){this._onDataUnpacked(e,r,await y(t))}_enqueueUpdate(e){return this._ongoingDataUpdate=this._ongoingDataUpdate.then(e,e),this._ongoingDataUpdate}_onDataUnpacked(e,t,r){if(this._status===m.Idle)return;this._status===m.AwaitingFirstDataUpdate&&(this._changeStatusTo(m.Active),this._clearDataImpl());const i=this._data.bars().size(),o=this._data.first(),n=this._data.bars().firstIndex(),s=this._data.mergeRegularBars(e);null!==r&&(this._data.nsBars().clear(),this._data.nsBars().merge(r.projectionPlots),this._data.lastProjectionPrice=r.lastPrice,null!==r.boxSize&&(this._data.boxSize=r.boxSize),this._data.reversalAmount=r.reversalAmount);const a=null===n,l=a||null!==s&&s.index<n;this._dataEvents.fireDataUpdated(t,l,s,a,o),i!==this._data.bars().size()&&null!==s&&this._dataEvents.fireBarReceived(s)}_onSeriesLoading(e){this._dataEvents.fireLoading(e)}_onSeriesCompleted(e,t,r){this._dataEvents.fireCompleted({updateMode:e,time:t,flags:r})}_checkTurnaround(e,t){return this._instanceId===e&&(void 0===t||t===this.turnaround())}}async function y(e){if(void 0===e)return{projectionPlots:[],boxSize:null};if(""===e.d||"nochange"===e.indexes)return null;const t=await(0,l.unpackNonSeriesData)(e.d);if(null===t||t.indexes_replace)return null;const r=e.indexes,{bars:i,price:o,boxSize:n,reversalAmount:s}=t.data;return{
lastPrice:o,projectionPlots:(i||[]).map((e=>{let t;return"factor"in e?t=e.factor:"additionalPrice"in e&&(t=e.additionalPrice),{index:r[e.time],value:[0,e.open,e.high,e.low,e.close,e.volume,t]}})),reversalAmount:s,boxSize:n}}},290029:(e,t,r)=>{r.d(t,{SeriesValuesProvider:()=>A,calculateColor:()=>I,changesData:()=>v});var i=r(650151),o=r(150335),n=r(724377),s=r(444372),a=r(638456),l=(r(687037),r(650369)),c=r(680574),d=r(498374),u=r(313344),h=r(304642),_=r(333298),p=(r(104779),r(290597)),m=r(277243),S=r(772717),f=r(634334),C=r(412158);const T=C.lastDayChangeAvailable||C.alwaysShowLastPriceAndLastDayChange,g=a.CheckMobile.any(),b=(0,h.getPercentageFormatter)(),y=(0,h.getVolumeFormatter)(2),E=`${f.notAvailable} (${f.notAvailable}%)`;function I(e,t){const r=(0,n.parseRgb)(t),i=(0,n.parseRgb)(e);return(0,n.distanceRgb)(r,i)<70?(0,n.rgbToHexString)((0,n.invertRgb)(r)):t}function v(e,t,r,i,o){let n,s;if(null!==t){const e=o[4],r=t.change||0;s={change:r,currentPrice:e,prevPrice:e-r,percentChange:t.change_percent||0}}const a=r[4],l=e.search(i-1,d.PlotRowSearchMode.NearestLeft,1),c=l?.value[4]??null;return null!==c&&null!=a&&(n={change:a-c,currentPrice:a,prevPrice:c,percentChange:(0,p.barPercentChange)(c,a)}),{barChange:n,lastDayChange:s}}class A{constructor(e,t,i=!0){this._series=e,this._model=t,this._searchNearestLeftValue=i,this._emptyValues=[{title:s.t(null,void 0,r(16610)),visible:!1,value:"",index:0,orderIndex:0,id:"open"},{title:s.t(null,void 0,r(778254)),visible:!1,value:"",index:1,orderIndex:1,id:"high"},{title:s.t(null,void 0,r(165318)),visible:!1,value:"",index:2,orderIndex:2,id:"low"},{title:s.t(null,{context:"input"},r(51408)),visible:!1,value:"",index:3,orderIndex:3,id:"close"},{title:"",visible:!1,value:"",index:4,orderIndex:4,id:"source"},{title:"",visible:!1,value:"",index:5,orderIndex:5,id:"lastPrice"},{title:s.t(null,void 0,r(537276)),visible:!1,value:"",index:6,orderIndex:6,id:"change"},{title:s.t(null,{context:"study"},r(424261)),visible:!1,value:"",index:7,orderIndex:7,id:"volume"},{title:s.t(null,void 0,r(463815)),visible:!1,value:"",index:8,orderIndex:8,id:"lastDayChange"}]}getItems(){return this._emptyValues}getValues(e){const t=this._showLastPriceAndChangeOnly(),r=this._emptyValues.map(((e,r)=>({...e,value:6===r||8===r?E:f.notAvailable,visible:5!==r&&4!==r&&!t})));if(this._model.timeScale().isEmpty()||0===this._series.bars().size()||this._series.priceScale().isEmpty())return r;const n=(0,i.ensureNotNull)(this._series.data().bars().last());(0,o.isNumber)(e)||(e=n.index);const s=this._searchNearestLeftValue?d.PlotRowSearchMode.NearestLeft:d.PlotRowSearchMode.Exact,a=this._series.nearestIndex(e,s);if(void 0===a)return r;const u=this._series.data().valueAt(a),h=this._model.backgroundTopColor().value();if(null===u)return r;const _=u[1],p=u[2],S=u[3],C=u[4],{barChange:g,lastDayChange:A}=v(this._series.data(),this._series.quotes(),u,a,n.value),P=(0,m.getPriceValueFormatterForSource)(this._series);if((0,m.shouldBeFormattedAsPercent)(this._series)||(0,
m.shouldBeFormattedAsIndexedTo100)(this._series))r[6].value="",r[8].value="";else{const e=this._series.formatter(),t={signPositive:!0};if(void 0!==g){const{currentPrice:i,prevPrice:o,change:n,percentChange:s}=g,a=e.formatChange?.(i,o,t)??e.format(n,t);r[6].value=(0,c.forceLTRStr)(`${a} (${b.format(s,t)})`)}if(void 0!==A){const{currentPrice:i,prevPrice:o,change:n,percentChange:s}=A,a=e.formatChange?.(i,o,t)??e.format(n,t);r[8].value=(0,c.forceLTRStr)(`${a} (${b.format(s,t)})`)}}let L=null;if(t)r[5].value=null==C?f.notAvailable:P(C),r[5].visible=!0,L=this._getChangeColor(A?.change,n.index),r[6].visible=void 0!==g,r[8].visible=void 0!==A||T;else{r[0].value=null==_?f.notAvailable:P(_),r[1].value=null==p?f.notAvailable:P(p),r[2].value=null==S?f.notAvailable:P(S),r[3].value=null==C?f.notAvailable:P(C),r[4].value=P(this._series.barFunction()(u));const e=u[5];(0,o.isNumber)(e)?r[7].value=y.format(e):r[7].visible=!1;const t=this._series.intervalObj().value().is1Tick(),i=21!==this._series.style();r[0].visible=!t&&i,r[1].visible=!t,r[2].visible=!t,r[8].visible=void 0!==A||T,r[6].visible=void 0!==g;const n=this._series.barColorer().barStyle(a,!1);L=I(h,n.barBorderColor??n.barColor)}L=(0,l.resetTransparency)(I(h,L));for(const e of r)e.color||(e.color=L);return r[8].visible&&(r[8].color=(0,l.resetTransparency)(I(h,this._getChangeColor(A?.change,n.index)))),r}_mobileNonTrackingMode(){return g&&(null===this._model.crosshairSource().pane||(0,S.isLineToolName)(u.tool.value())||null!==this._model.lineBeingEdited())}_showLastPriceAndChangeOnly(){return C.alwaysShowLastPriceAndLastDayChange||this._mobileNonTrackingMode()}_getChangeColor(e,t){const r=this._series.style();if(2===r||15===r||14===r)return this._series.barColorer().barStyle(t,!1).barColor;const i=void 0===e||e>=0?_.SeriesBarColorer.upColor(this._series.properties()):_.SeriesBarColorer.downColor(this._series.properties());return i.barBorderColor??i.barColor}}},943114:(e,t,r)=>{r.d(t,{DwgExtend:()=>i,convertPointsToScreenDimension:()=>a,doesItemAffectVisibleRange:()=>l,isExtendInSameDirection:()=>s});var i,o=r(650151);function n(e,t){return e===i.None?t:t===i.None?e:e===i.Both||t===i.Both?i.Both:e===t?t:i.Both}function s(e,t){return e===i.Both||e===t}function a(e,t,r,s,a,l,c,d,u,h){let _,p;if(null===e&&null===r){if(a!==i.Right&&a!==i.Both)return null;a=i.Both,_=0,p=d}else null===e?(_=c.indexToCoordinate((0,o.ensureNotNull)(r)-1),a=n(a,i.Left)):_=c.indexToCoordinate(e),null===r?(p=c.indexToCoordinate((0,o.ensureNotNull)(e)-1),a=n(a,i.Right)):p=c.indexToCoordinate(r);const m=_,S=l.priceToCoordinate(t,u),f=p,C=l.priceToCoordinate(s,u);return void 0!==h?(h.x1=m,h.y1=S,h.x2=f,h.y2=C,h.extend=a,h):{x1:m,y1:S,x2:f,y2:C,extend:a}}function l(e,t,r,o,n){let s=!1;switch(r){case i.Both:s=!0;break;case i.Right:s=null===t||null===e||e<=n;break;case i.Left:s=null===t||t>=o;break;default:null!==e&&null!==t?s=(e>=o||t>=o)&&(e<=n||t<=n):null!==e&&null===t?s=e<=n:null===e&&null!==t&&(s=t>=o)}return s}!function(e){e.None="n",e.Left="l",e.Right="r",e.Both="b"}(i||(i={}))},517097:(e,t,r)=>{r.d(t,{
containsTpoTimePointIndexes:()=>s,dematerializeTpo:()=>l,isTpoInBarsRange:()=>c,materializeTpo:()=>a});var i=r(650151),o=r(318545),n=r(327399);const s=!0;function a(e,t){if(e.firstBarTime>=t.length||e.lastBarTime>=t.length)return null;const r=t[e.firstBarTime],n=t[e.lastBarTime];return r===o.INVALID_TIME_POINT_INDEX||n===o.INVALID_TIME_POINT_INDEX?null:((0,i.assert)(r<=n,"firstBarTime should not exceed lastBarTime"),{id:e.id,firstBarTime:r,lastBarTime:n,priceRange:e.priceRange,times:e.times})}function l(e,t,r){return{id:t,firstBarTime:(0,n.ensureTimePointIndexIndex)(r.indexOf(e.firstBarTime)),lastBarTime:(0,n.ensureTimePointIndexIndex)(r.indexOf(e.lastBarTime)),priceRange:e.priceRange,times:e.times}}function c(e,t){return!(e.lastBarTime<t.firstBar()||e.firstBarTime>t.lastBar())}},694842:(e,t,r)=>{function i(e,t){return`${e}@${t}`}function o(e){return e.replace(/(@[^-]+-[^-]+).*$/,"$1")}r.d(t,{extractStudyId:()=>o,studyIdString:()=>i})},728032:(e,t,r)=>{r.d(t,{StudyWithSummaryDataSource:()=>o});var i=r(543961);class o extends i.PriceDataSource{constructor(e,t){super(e,t)}barColorer(){return null}formatter(e){return this._model.mainSeries().formatter(e)}sessionId(){return this._model.mainSeries().sessionId()}sessionIdChanged(){return this._model.mainSeries().sessionIdChanged()}currency(){return this._model.mainSeries().currency()}unit(){return this._model.mainSeries().unit()}onStatusChanged(){return this._model.mainSeries().onStatusChanged()}symbolSource(){return this._model.mainSeries().symbolSource()}barsProvider(){return this._model.mainSeries().barsProvider()}valuesProvider(){return this._model.mainSeries().valuesProvider()}legendValuesProvider(){return this._model.mainSeries().legendValuesProvider()}statusProvider(e){return this._model.mainSeries().statusProvider(e)}paneViews(e){return this._model.mainSeries().paneViews(e)}updateAllViews(e){this._model.mainSeries().updateAllViews(e)}widgetSideAreaViews(e){return this._model.mainSeries().widgetSideAreaViews?.(e)??null}properties(){return this._model.mainSeries().properties()}hasStateForAlert(){return!1}allowsMovingBetweenPanes(){return!1}isUserDeletable(){return!1}canBeHidden(){return!1}isDraggable(){return!1}symbolSourceWV(){return this._model.mainSeries().symbolSourceWV()}}},235814:(e,t,r)=>{function i(e,t,r){return e===t||e===r}r.d(t,{symbolSameAsResolved:()=>i})},318545:(e,t,r)=>{r.d(t,{INVALID_TIME_POINT_INDEX:()=>i,UNPLOTTABLE_TIME_POINT_INDEX:()=>o});const i=-2e6,o=-1e6},984958:(e,t,r)=>{r.d(t,{alertsAvailable:()=>i});const i=r(687037).enabled("alerts")},386491:(e,t,r)=>{var i;function o(e){return!(!e||!Object.keys(e).length)}function n(e){return!!e.is_trial}function s(e){return!!e?.pro_plan}function a(e){return s(e)&&!n(e)}function l(e){return e.type===i.ProPlan}function c(e){return e.type===i.Exchange}function d(e){return e?c(e)||function(e){return e.type===i.Coins}(e)?e.text_id??"":e.discount_text_id??e.text_id??"":""}r.d(t,{ProductType:()=>i,getProductId:()=>d,isExchange:()=>c,isPaidPro:()=>a,isPlan:()=>l,isPro:()=>s,isProductDefined:()=>o,isTrial:()=>n
}),function(e){e[e.ProPlan=1]="ProPlan",e[e.NewsFeed=3]="NewsFeed",e[e.Exchange=4]="Exchange",e[e.Connection=6]="Connection",e[e.Coins=8]="Coins",e[e.ScriptPackage=9]="ScriptPackage"}(i||(i={}))},29992:(e,t,r)=>{r.d(t,{isShowPromoVideo:()=>u,isSignModalOpen:()=>d,showSignModal:()=>c});var i=r(586240),o=r(446196),n=r(203999);const s=i["media-mf-tablet-landscape"],a=i["media-mf-tablet-vertical"];let l=()=>!1;async function c(e){const t=Object.assign({},e,{isShowVideo:u()});if(window.TVD&&window.TVD.signIn)return window.TVD.signIn(t);{!function(){const e=document.createElement("link"),t=document.createElement("link");e.rel="preload",e.as="image",e.href=o,t.rel="preload",t.as="image",t.href=n,document.head.appendChild(e),document.head.appendChild(t)}();const e=await Promise.all([r.e(1012),r.e(51613),r.e(71931),r.e(30612),r.e(18218),r.e(66402),r.e(10584),r.e(37479),r.e(63225),r.e(22232),r.e(5607),r.e(79856),r.e(15566),r.e(20500),r.e(23397),r.e(59338),r.e(8749),r.e(8692),r.e(34528),r.e(36597),r.e(17456),r.e(22221),r.e(96637),r.e(4844),r.e(93329),r.e(82321),r.e(12831),r.e(41122),r.e(62526),r.e(36123)]).then(r.bind(r,989226));return l=e.isSignModalOpen,e.showSignModal(t)}}function d(){return l()}function u(){const e=window.matchMedia(s).matches,t=window.matchMedia(a).matches,r=window.innerWidth,i=window.innerHeight;return!!e||!!t&&i>=r}},317400:(e,t,r)=>{r.d(t,{getProPlanDetailsForUser:()=>a,getProPlanWeight:()=>s});r(778016);var i=r(381467),o=r(954912),n=r(486710);function s(e){return window.pro?"free"===e?-1:window.pro.getProduct((0,i.getProductForTrial)(e)).upgrade_weight:0}async function a(){const e=await(0,o.fetch)("/pro-plans/profile/"),t=await e.json();if(e.ok)return t;if(403===e.status){const r=t;throw new n.ApiError(r.detail,e.status,r.code)}throw new Error(`Unable to handle unexpected response: ${String(e.text())}`)}},174079:(e,t,r)=>{r.d(t,{Pro:()=>c});var i=r(954912),o=r(386491),n=r(251924),s=r(588948),a=r(735566);const l=(0,s.getFreshInitData)();class c{constructor(e){this.packagesUpdated=new n.Delegate,this.PRODUCT_TYPES={pro_plan:1,exchange:4,connection:6,coins:8},this._products={},this._invalidShopConf=!1,this._freeProductIds=["tv-scripting","tv-basicstudies","tv-prostudies","Script$USER","Script$EDGR","ESD$TV"],this._discounts={},this._offers=[],this._paidExchanges=[],this._logger=(0,a.getLogger)("Pro"),e&&(this._offers=e.offers??[],this._paidExchanges=e.paid_exchanges??[],this._invalidShopConf=!0,"undefined"!=typeof window&&window.loginStateChange.subscribe(this,this.onLoginStateChange))}isDiscountProductId(e){return e in this._discounts}hasPackage(e){return this._offers.includes(e)||this._freeProductIds.includes(e)}async updateShopConf(e=!1){return void 0!==this._shopConfPromise||(this._shopConfPromise=(0,i.fetch)("/market/shopconf/",{credentials:"include"}).then((async t=>{const r=await t.json();return this._products=r.all_products&&JSON.parse(r.all_products)||{},this._discounts=r.discounts&&JSON.parse(r.discounts)||{},this._offers=r.offers&&JSON.parse(r.offers)||[],
this._paidExchanges=r.paid_exchanges&&JSON.parse(r.paid_exchanges)||[],this._invalidShopConf=!1,delete this._shopConfPromise,e||this.packagesUpdated.fire(),r})).catch((()=>{throw this._logger.logError("Update shopconf error"),delete this._shopConfPromise,Error("Update shopconf error")}))),this._shopConfPromise}invalidateShopConf(){this._invalidShopConf=!0}isInvalidShopConf(){return!!this._invalidShopConf}ensureValidShopConf(){return new Promise((e=>this.runOrUpdate(e)))}onLoginStateChange(e){e||this.updateShopConf()}runOrUpdate(e,t){this.isInvalidShopConf()?this.updateShopConf(t).then(e):e()}getIDCExchanges(e){const t=this._products;if(l)if(e){if(l.idc_delay_exchanges_list)return l.idc_delay_exchanges_list}else if(l.idc_exchanges_list)return l.idc_exchanges_list;return Object.keys(t).filter((r=>{const i=t[r];return!!(0,o.isExchange)(i)&&(e?i.idc_service_codes_delay:i.idc_service_codes)})).map((e=>t[e].exchange))}getProduct(e){if(e in this._products)return this._products[e];if(this.isDiscountProductId(e)){const t=this._discounts[e],r={discount_text_id:e,...this._products[t.product]};return void 0!==t.fixed_cost&&(r.fixed_cost=t.fixed_cost),void 0!==t.extra_days&&(r.extra_days=t.extra_days),void 0!==t.billing_cycle&&(r.billing_cycle=t.billing_cycle),void 0!==t.next_billing_cycle&&(r.next_billing_cycle=t.next_billing_cycle),r}return{}}async findProduct(e){if(this.isInvalidShopConf())try{await this.updateShopConf()}catch{}return this.getProduct(e)}getDiscountProduct(e){return this._discounts[e]??{}}isOffer(e,t){return Object.keys(this._discounts).filter((e=>!this._discounts[e].expired&&this._discounts[e].offer_type===t)).includes(e)}getUserExchanges(){const e=window.pro?.offers();return e?e.map((e=>this.getProduct(e))).filter((e=>(0,o.isExchange)(e))):[]}getUserPaidExchanges(){const e=window.pro?.paidExchanges();return e?e.map((e=>this.getProduct(e))):[]}getUserExchangeByPerm(e){return this.getUserExchanges().find((t=>t.exchange===e))}getExchange(e){const t=this.getProductsByType(o.ProductType.Exchange);let r;for(let i=0;i<t.length;i+=1)if(r=t[i],r.exchange===e||r.included_exchanges&&r.included_exchanges.includes(e))return r;return{}}getProductsByType(e){return Object.keys(this._products).filter((t=>this._products[t].type===e)).map((e=>this.getProduct(e)))}getProPlanProducts(){return this.getProductsByType(o.ProductType.ProPlan).filter((e=>!e.is_expert))}getExpertPlanProducts(){return this.getProductsByType(o.ProductType.ProPlan).filter((e=>e.is_expert))}getPaidExchangesForProfessional(){return this.getProductsByType(o.ProductType.Exchange).filter((e=>e.paid_for_expert))}getProPlanProductsList(){return this.getProPlanProducts().map((e=>e.text_id))}getExpertPlanProductsList(){return this.getExpertPlanProducts().map((e=>e.text_id))}isExpertProduct(e){return this.getExpertPlanProductsList().includes(e)}isPro(){return(0,o.isPro)(window.user)}getSuperProduct(e){}getStudiesOrder(){return[]}userHasRealtimeForExchange(e){const t=(e??"").toLowerCase().replace("exchange-",""),r=this.getExchange(t);if(!(0,
o.isProductDefined)(r))return!1;if(this._offers.includes("exchange-"+r.exchange))return!0;if(r.included_exchanges)for(let e=0;e<r.included_exchanges.length;e+=1)if(this._offers.includes("exchange-"+r.included_exchanges[e]))return!0;return!1}hasRealtimeForExchange(e,t){const r=this.getProductsByType(o.ProductType.Exchange),i=(e??"").toLowerCase();for(let e=0;e<r.length;e+=1){const n=r[e];if(n.exchange===i||(n.included_exchanges||[]).includes(i)){if(n.disabled&&!n.included_exchanges)return!1;if(!t)return!0;if(n.included_exchanges){let e;for(let r=0;r<n.included_exchanges.length;r+=1){const i=this.getProduct("exchange-"+n.included_exchanges[r]);if((0,o.isProductDefined)(i)&&(0,o.isExchange)(i)&&this._exHasRealtimeForType(i,t)){e=!0;break}}if(!e)return!1}else if(!this._exHasRealtimeForType(n,t))return!1;return!0}}return!1}offers(){return this._offers}paidExchanges(){return this._paidExchanges}isSupportAvailable(){return Boolean(window.user?.is_support_available||l.is_support_available)}discounts(){return this._discounts}hash(){const e=this._offers.slice(0);e.sort();const t={offers:e};return JSON.stringify(t)}_exHasRealtimeForType(e,t){return!("stock"===t&&!e.is_stocks)&&(!("index"===t&&!e.is_indices)&&!("futures"===t&&!e.is_futures))}}"undefined"!=typeof window&&window.TradingView&&(window.TradingView.Pro=c)},760223:(e,t,r)=>{function i(e){return e+""}r.d(t,{appendEllipsis:()=>i})}}]);